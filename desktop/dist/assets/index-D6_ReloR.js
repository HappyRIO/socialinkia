import{j as e,r as o,N as re,L as A,e as V,a as K,b as Z,c as M,d as ie,P as ce,M as de,f as ue,U as me,g as he,R as ee,h as xe,F as $,I as O,C as G,i as pe,k as fe,V as ge,S as je,u as se,l as R,G as be,E as ve,m as te,n as D,o as q,A as J,B as _,p as le,q as we,s as ye}from"./vendor-DMC1F3Tb.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const N of f.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&d(N)}).observe(document,{childList:!0,subtree:!0});function p(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(m){if(m.ep)return;m.ep=!0;const f=p(m);fetch(m.href,f)}})();function I(){return e.jsx("div",{className:"w-full h-screen flex justify-center items-center bg-[rgba(0,0,0,0.71)]",children:e.jsx("div",{className:"w-full h-full flex gap-4 flex-col justify-center items-center text-center",children:e.jsx("div",{className:"w-20 h-20 border-4 border-transparent text-accent text-4xl animate-spin flex items-center justify-center border-t-accent rounded-full",children:e.jsx("div",{className:"w-16 h-16 border-4 border-transparent text-primary text-2xl animate-spin flex items-center justify-center border-t-primary rounded-full"})})})})}const ae=({Component:s})=>{const[i,p]=o.useState(!1),[d,m]=o.useState(!0),f=async()=>{try{(await fetch("/api/auth/check-user",{method:"GET",credentials:"include"})).ok?p(!0):p(!1)}catch(N){p(!1),console.error("Error validating user:",N)}finally{m(!1)}};return o.useEffect(()=>{f()},[]),d?e.jsx(I,{}):i?e.jsx(s,{}):e.jsx(re,{to:"/login"})};function Ne(){return e.jsx("div",{className:"w-full bg-background",children:e.jsx(A,{to:"/dashboard",children:e.jsx("img",{className:"w-full bg-black max-w-[300px]",src:"/images/nav.png",alt:""})})})}function Q({menufunction:s,menustate:i,pagename:p}){const[d,m]=o.useState({}),[f,N]=o.useState("en"),u=[{code:"en",name:"English"},{code:"es",name:"Español"},{code:"en",name:"English"},{code:"fr",name:"Français"},{code:"de",name:"Deutsch"},{code:"ig",name:"Igbo"},{code:"zh",name:"中文"},{code:"ja",name:"日本語"},{code:"ru",name:"Русский"},{code:"pt",name:"Português"},{code:"ar",name:"العربية"},{code:"it",name:"Italiano"},{code:"ko",name:"한국어"},{code:"hi",name:"हिन्दी"},{code:"tr",name:"Türkçe"},{code:"vi",name:"Tiếng Việt"},{code:"pl",name:"Polski"},{code:"nl",name:"Nederlands"},{code:"sv",name:"Svenska"},{code:"da",name:"Dansk"},{code:"fi",name:"Suomi"},{code:"no",name:"Norsk"},{code:"th",name:"ไทย"},{code:"he",name:"עברית"},{code:"cs",name:"Čeština"},{code:"hu",name:"Magyar"},{code:"ro",name:"Română"},{code:"sk",name:"Slovenčina"},{code:"sl",name:"Slovenščina"},{code:"bg",name:"Български"},{code:"uk",name:"Українська"},{code:"lt",name:"Lietuvių"},{code:"lv",name:"Latviešu"},{code:"et",name:"Eesti"},{code:"is",name:"Íslenska"},{code:"mt",name:"Malti"},{code:"ms",name:"Bahasa Melayu"},{code:"sw",name:"Kiswahili"},{code:"tl",name:"Tagalog"},{code:"bn",name:"বাংলা"},{code:"pa",name:"ਪੰਜਾਬੀ"},{code:"gu",name:"ગુજરાતી"},{code:"ta",name:"தமிழ்"},{code:"te",name:"తెలుగు"},{code:"kn",name:"ಕನ್ನಡ"},{code:"ml",name:"മലയാളം"},{code:"or",name:"ଓଡ଼ିଆ"},{code:"si",name:"සිංහල"},{code:"km",name:"ខ្មែរ"},{code:"my",name:"မြန်မာ"},{code:"ne",name:"नेपाली"},{code:"am",name:"አማርኛ"},{code:"sn",name:"Shona"},{code:"zu",name:"Zulu"}];o.useEffect(()=>{const r=localStorage.getItem("language");if(r&&u.find(g=>g.code===r))N(r),l(r);else{const g=navigator.language.split("-")[0];u.find(k=>k.code===g)&&(N(g),l(g))}(async()=>{try{const g=await fetch("/api/auth/user/details",{method:"GET",credentials:"include"});if(g.ok){const k=await g.json();m(k.user.companyDetails)}else console.error("Failed to fetch user data:",g.status)}catch(g){console.error("Error fetching user data:",g)}})()},[]);const l=async r=>{N(r),localStorage.setItem("language",r),V.engine="google";const a=document.querySelectorAll("body *");for(let g of a)if(g.children.length===0&&g.innerText&&g.innerText.trim()!=="")try{const k=await V(g.innerText,r);g.innerText=k}catch(k){console.error("Translation error:",k)}};return e.jsx("div",{className:"h-screen bg-background w-fit fixed left-0 top-0 shadow-xl",children:e.jsxs("div",{className:"flex flex-col h-full p-3 w-60",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ne,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{children:p}),e.jsx("div",{className:"sm:hidden",children:e.jsx("button",{onClick:s,children:i?e.jsx(K,{}):e.jsx(Z,{})})})]}),e.jsx("div",{className:"flex-1",children:e.jsxs("ul",{className:"pt-2 pb-4 space-y-1 text-sm",children:[e.jsx("li",{className:"rounded-sm",children:e.jsxs(M,{to:"/dashboard",end:!0,className:({isActive:r})=>`flex items-center p-2 space-x-3 rounded-md ${r?"bg-accent":""}`,children:[e.jsx(ie,{}),e.jsx("span",{children:"dashboard"})]})}),e.jsx("li",{className:"rounded-sm",children:e.jsxs(M,{to:"/dashboard/create",className:({isActive:r})=>`flex items-center p-2 space-x-3 rounded-md ${r?"bg-accent":""}`,children:[e.jsx(ce,{}),e.jsx("span",{children:"create"})]})}),e.jsx("li",{className:"rounded-sm",children:e.jsxs(M,{to:"/dashboard/posts",className:({isActive:r})=>`flex items-center p-2 space-x-3 rounded-md ${r?"bg-accent":""}`,children:[e.jsx(de,{}),e.jsx("span",{children:"posts"})]})}),e.jsx("li",{className:"rounded-sm",children:e.jsxs(M,{to:"/dashboard/subscription",className:({isActive:r})=>`flex items-center p-2 space-x-3 rounded-md ${r?"bg-accent":""}`,children:[e.jsx(ue,{}),e.jsx("span",{children:"subscription"})]})}),e.jsx("li",{className:"rounded-sm",children:e.jsxs(M,{to:"/dashboard/profile",className:({isActive:r})=>`flex items-center p-2 space-x-3 rounded-md ${r?"bg-accent":""}`,children:[e.jsx(me,{}),e.jsx("span",{children:"profile"})]})}),e.jsx("li",{className:"rounded-sm",children:e.jsxs(M,{to:"/",className:({isActive:r})=>`flex items-center p-2 space-x-3 rounded-md ${r?"bg-accent":""}`,children:[e.jsx(he,{}),e.jsx("span",{children:"Logout"})]})})]})})]}),e.jsxs("div",{className:"flex items-center p-2 mt-12 space-x-4 justify-self-end",children:[e.jsx("img",{src:d?d.logo:"https://placehold.co/400x400",alt:"profile image",className:"w-12 h-12 rounded-lg"}),e.jsx("div",{children:e.jsxs("span",{className:"flex flex-col items-center space-x-1 text-sm hover:underline text-gray-500",children:[e.jsx("h2",{className:"text-md",children:d?d.userName:""}),e.jsx(M,{to:"/dashboard/profile",children:"View profile"})]})})]}),e.jsxs("div",{className:"lang-selector flex flex-col gap-2",children:[e.jsxs("label",{htmlFor:"language-select",className:"text-sm",children:["Choose a language:"," "]}),e.jsx("select",{id:"language-select",className:"text-sm p-1 rounded-lg",value:f,onChange:r=>l(r.target.value),children:u.map((r,a)=>e.jsx("option",{value:r.code,children:r.name},a))})]})]})})}function U({pagename:s}){const[i,p]=o.useState(!1);function d(){p(!i)}return e.jsxs("div",{className:"w-fit",children:[e.jsx("div",{className:"sidebar w-fit hidden sm:block",children:e.jsx(Q,{pagename:s,menufunction:d,menustate:i})}),e.jsxs("div",{className:"navbarmobile m-0 sm:hidden fixed top-0 left-0 w-full justify-center items-center",children:[e.jsx("div",{className:"menubutton fixed right-4 top-4",children:e.jsx("button",{onClick:d,children:i?e.jsx(K,{}):e.jsx(Z,{})})}),i&&e.jsx("div",{id:"mobilemenubar",className:"w-fit fixed left-0 top-0",children:e.jsx(Q,{pagename:s,menufunction:d,menustate:i})})]})]})}const B=ee.memo(({data:s})=>{var g,k,S,b,P,t,c;if(console.log(`Rendering PostContainer for ID: ${((g=s==null?void 0:s._id)==null?void 0:g.$oid)||(s==null?void 0:s._id)}`),!s||typeof s!="object"||!s._id||!s.platform)return console.warn("PostContainer received incomplete data:",s),e.jsx("div",{className:"w-full p-2 text-sm text-red-600 bg-red-100 border border-red-300 rounded-lg",children:"Error: Incomplete post data provided."});const{fbook:i,insta:p,xcom:d}=o.useMemo(()=>s.platform||{},[s.platform]),m=o.useMemo(()=>[i,p,d].filter(Boolean).length,[i,p,d]),f=o.useMemo(()=>s.status==="failed"?"Connection issue or post failed. Please check account connection or edit the post.":s.text||" ",[s.status,s.text]),N=o.useMemo(()=>{switch(s.status){case"failed":return"text-red-500";case"published":return"text-green-600";case"scheduled":return"text-blue-600";default:return"text-gray-800"}},[s.status]),u=o.useMemo(()=>s.status==="scheduled"||s.status==="failed"||s.status==="draft"||s.status==="published",[s.status]),l=o.useMemo(()=>{var j,y;return s.status==="published"?`/dashboard/analize/${((j=s._id)==null?void 0:j.$oid)||s._id}`:`/dashboard/posts/edit/${((y=s._id)==null?void 0:y.$oid)||s._id}`},[s.status,s._id]),{formattedDate:r,formattedTime:a}=o.useMemo(()=>{try{const j=new Date(s.uploadDate);return{formattedDate:j.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),formattedTime:j.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0})}}catch(j){return console.error("Error formatting date:",s.uploadDate,j),{formattedDate:"Invalid Date",formattedTime:""}}},[s.uploadDate]);return o.useMemo(()=>s._id,[s._id]),e.jsxs(A,{className:"w-full block",to:l,"aria-label":`View details for post scheduled on ${r}`,children:[e.jsxs("div",{className:"post-lister w-full gap-2 flex text-sm flex-col md:flex-row justify-start items-stretch bg-background p-2 rounded-lg border border-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-150",children:[" ",e.jsxs("div",{className:"small-content gap-2 flex flex-row items-center",children:[" ",e.jsxs("div",{className:"content-platform bg-background2 p-2 aspect-square w-[50px] h-[50px] flex justify-center items-center overflow-hidden rounded-lg shrink-0",children:[" ",m>1?e.jsx(xe,{size:24,"aria-label":"Multiple platforms"}):i?e.jsx($,{size:24,"aria-label":"Facebook"}):p?e.jsx(O,{size:24,"aria-label":"Instagram"}):d?e.jsx("img",{className:"w-6 h-6",src:"/icons/xcom.svg",alt:"X Platform"}):e.jsx(G,{size:24,"aria-label":"No platform"})]}),e.jsx("div",{className:"content-type bg-background2 p-2 aspect-square w-[50px] h-[50px] flex justify-center items-center overflow-hidden rounded-lg shrink-0",children:((k=s.images)==null?void 0:k.length)>0&&((S=s.videos)==null?void 0:S.length)>0?e.jsx(pe,{size:24,"aria-label":"Image and Video"}):((b=s.images)==null?void 0:b.length)>0?e.jsx(fe,{size:24,"aria-label":"Image"}):((P=s.videos)==null?void 0:P.length)>0?e.jsx(ge,{size:24,"aria-label":"Video"}):e.jsx(G,{size:24,"aria-label":"No media"})}),e.jsxs("div",{className:"content-preview bg-gray-200 aspect-square w-[50px] h-[50px] overflow-hidden rounded-lg shrink-0 flex justify-center items-center",children:[" ",(t=s.videos)!=null&&t[0]?e.jsx("video",{className:"object-cover object-center w-full h-full",muted:!0,playsInline:!0,preload:"metadata",children:e.jsx("source",{src:s.videos[0],type:"video/mp4"})},s.videos[0]):(c=s.images)!=null&&c[0]?e.jsx("img",{className:"object-cover object-center w-full h-full",src:s.images[0],alt:"",loading:"lazy"},s.images[0]):e.jsx("span",{className:"text-xs text-gray-500",children:"N/A"})]}),e.jsxs("div",{className:"content-release-date text-center flex flex-col justify-center items-center px-2 py-1 bg-background2 rounded-lg text-xs min-w-[90px] shrink-0",children:[" ",e.jsx("p",{className:"font-medium",children:r}),e.jsx("p",{className:"text-gray-600",children:a})]})]})," ",e.jsxs("div",{className:"content-title w-full px-2 py-1 bg-background2 rounded-lg flex items-center min-w-0 grow",children:[" ",e.jsxs("p",{className:`line-clamp-3 ${N} text-sm break-words w-full`,children:[" ",f]})]}),e.jsx("div",{className:"pending-post-settings p-1 flex justify-center items-center rounded-lg bg-background2 shrink-0",children:e.jsx("button",{className:`p-2 rounded hover:bg-gray-200 transition-colors ${u?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,disabled:!u,onClick:j=>{u||(j.preventDefault(),j.stopPropagation())},"aria-label":s.status==="published"?"View Analytics":"Edit Post",children:e.jsx(je,{size:20})})})]})," "]})});B.displayName="PostContainer";function Ce(){const[s,i]=o.useState([]),[p,d]=o.useState(!1),[m,f]=o.useState(new Date),[N,u]=o.useState({published:0,scheduled:0,failed:0}),l=new Date,[r,a]=o.useState(new Date),[g,k]=o.useState("all");o.useEffect(()=>{d(!0),fetch("/api/posts/all",{method:"GET",credentials:"include"}).then(n=>n.json()).then(n=>i((n==null?void 0:n.posts)||[])).catch(n=>console.error("Error fetching posts:",n)).finally(()=>d(!1))},[]),o.useEffect(()=>{const n=s.reduce((v,w)=>(w.status==="published"&&(v.published+=1),w.status==="scheduled"&&(v.scheduled+=1),w.status==="failed"&&(v.failed+=1),v),{published:0,scheduled:0,failed:0});u(n)},[s]);const S=r.getFullYear(),b=r.getMonth(),P=new Date(S,b+1,0).getDate(),t=new Date(S,b,1).getDay(),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j=["January","February","March","April","May","June","July","August","September","October","November","December"];console.log("Rendering CalendarPage with currentDate:",r.toString());const y=(n,v)=>n.getDate()===v.getDate()&&n.getMonth()===v.getMonth()&&n.getFullYear()===v.getFullYear(),C=n=>s.filter(v=>{const w=new Date(v.uploadDate);return w.getDate()===n&&w.getMonth()===b&&w.getFullYear()===S&&(g==="all"||v.status===g)}),x=n=>{f(new Date(S,b,n))},h=s.filter(n=>{const v=new Date(n.uploadDate);return y(v,m)&&(g==="all"||n.status===g)});return e.jsxs("div",{className:"w-full flex flex-row justify-center items-start",children:[e.jsx("div",{className:"navbarzone w-fit",children:e.jsx(U,{pagename:"calendar"})}),e.jsxs("div",{className:"contentzone flex flex-col gap-3 pt-3 px-2 ml-0 sm:ml-64 w-full",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Post Scheduler"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["all","published","scheduled","failed"].map(n=>e.jsx("button",{onClick:()=>k(n),className:`px-3 py-1 rounded-full border text-sm transition-all ${g===n?"bg-[var(--accent)] text-white":"bg-[var(--background2)]"}`,children:n.charAt(0).toUpperCase()+n.slice(1)},n))}),e.jsxs("div",{className:"bg-[var(--background2)] p-4 rounded-xl shadow-md w-full max-w-5xl overflow-x-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 min-w-[300px]",children:[e.jsx("button",{onClick:()=>a(new Date(r.getFullYear(),r.getMonth()-1,1)),className:"text-[var(--primary)] hover:text-[var(--accent)] text-lg font-bold",children:"<"}),e.jsxs("h2",{className:"text-xl font-bold",children:[j[r.getMonth()]," ",r.getFullYear()]}),e.jsx("button",{onClick:()=>a(new Date(r.getFullYear(),r.getMonth()+1,1)),className:"text-[var(--primary)] hover:text-[var(--accent)] text-lg font-bold",children:">"})]}),e.jsx("div",{className:"grid grid-cols-7 text-center mb-2 text-sm font-semibold text-[var(--primary)]",children:c.map(n=>e.jsx("div",{children:n},n))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 text-sm min-w-[560px]",children:[Array.from({length:t}).map((n,v)=>e.jsx("div",{},`empty-${v}`)),Array.from({length:P},(n,v)=>{const w=v+1,T=new Date(S,b,w),F=C(w).slice(0,3),L=T.getDay()===0||T.getDay()===6;return e.jsxs("div",{onClick:()=>x(w),className:`rounded-lg p-2 h-24 cursor-pointer overflow-hidden 
                    flex flex-col items-start justify-start border transition-all
                    ${y(m,T)?"border-2 border-[var(--accent)]":"border border-transparent"}
                    ${y(l,T)?"bg-[var(--accent)] text-white":L?"bg-[var(--background)]":"hover:bg-[var(--secondary)] hover:text-white"}`,children:[e.jsx("div",{className:"font-bold",children:w}),e.jsx("div",{className:"flex flex-col gap-0.5 mt-1 w-full",children:F.map(E=>{let z="bg-transparent text-[var(--text)]";return E.status==="published"?z="bg-[var(--primary)] text-white":E.status==="scheduled"?z="bg-[var(--secondary)] text-white":E.status==="failed"&&(z="bg-red-600 text-white"),e.jsxs("div",{className:`text-xs truncate w-full px-1 py-0.5 rounded ${z}`,title:E.text,children:["• ",E.text]},E._id)})})]},w)})]})]}),e.jsx("div",{className:"w-full flex flex-col sm:flex-row gap-3 mt-4",children:["published","scheduled","failed"].map(n=>e.jsxs("div",{className:"w-full sm:w-1/3 bg-[var(--background2)] p-3 rounded-md text-center",children:[e.jsxs("p",{className:"text-sm capitalize",children:[n," posts"]}),e.jsx("p",{className:"text-lg font-bold",children:N[n]})]},n))}),p?e.jsx(I,{}):e.jsxs("div",{className:"flex flex-col gap-3 bg-[var(--background2)] w-full p-2 mt-3",children:[e.jsxs("h3",{className:"font-bold",children:["Posts for ",m.toDateString()," ",g!=="all"&&`(${g})`]}),e.jsx("div",{className:"w-full flex flex-col gap-3 overflow-y-scroll scrollbar-hide",children:h.length>0?h.map(n=>e.jsx(B,{data:n},n._id)):e.jsx("p",{children:"No posts for this date."})})]})]})]})}function ne(){return e.jsx("div",{className:"w-full h-screen flex justify-center items-center p-2",children:e.jsxs("div",{className:"w-fit",children:[e.jsx("div",{className:"img w-full",children:e.jsx("img",{className:"w-full max-w-[300px]",src:"/images/nav.png",alt:""})}),e.jsxs("div",{className:"w-full text-center flex flex-col justify-center items-center",children:[e.jsx("p",{children:"kindly get back to the main page"}),e.jsx("button",{className:"bg-accent rounded-lg p-2 px-3",children:"click to get back"})]})]})})}function ke(){const[s,i]=o.useState({height:0,width:0}),[p,d]=o.useState([]),m=[{height:400,width:600,id:1,platform:"Facebook",imageUrl:"https://placehold.co/600x400/e7e2e1/3b5998?font=roboto&text=Facebook",description:"Connect with friends and the world around you."},{height:800,width:1200,id:2,platform:"Facebook",imageUrl:"https://placehold.co/1200x800/e7e2e1/3b5998?font=roboto&text=Facebook",description:"Connect with friends and the world around you."},{height:400,width:600,id:4,platform:"Twitter",imageUrl:"https://placehold.co/600x400/e7e2e1/1da1f2?font=roboto&text=Twitter",description:"See what’s happening in the world right now."},{height:675,width:1200,id:5,platform:"Twitter",imageUrl:"https://placehold.co/1200x675/e7e2e1/1da1f2?font=roboto&text=Twitter",description:"See what’s happening in the world right now."},{height:400,width:600,id:7,platform:"Instagram",imageUrl:"https://placehold.co/600x400/e7e2e1/e4405f?font=roboto&text=Instagram",description:"Share photos and videos with friends."},{height:1080,width:1350,id:8,platform:"Instagram",imageUrl:"https://placehold.co/1350x1080/e7e2e1/e4405f?font=roboto&text=Instagram",description:"Share photos and videos with friends."},{height:400,width:600,id:10,platform:"LinkedIn",imageUrl:"https://placehold.co/600x400/e7e2e1/0077b5?font=roboto&text=LinkedIn",description:"Manage your professional identity."},{height:768,width:1536,id:11,platform:"LinkedIn",imageUrl:"https://placehold.co/1536x768/e7e2e1/0077b5?font=roboto&text=LinkedIn",description:"Manage your professional identity."},{height:400,width:600,id:13,platform:"TikTok",imageUrl:"https://placehold.co/600x400/e7e2e1/69c9d0?font=roboto&text=TikTok",description:"Create and discover short, fun videos."},{height:1080,width:1920,id:14,platform:"TikTok",imageUrl:"https://placehold.co/1920x1080/e7e2e1/69c9d0?font=roboto&text=TikTok",description:"Create and discover short, fun videos."},{height:1080,width:1920,id:16,platform:"Snapchat",imageUrl:"https://placehold.co/1920x1080/e7e2e1/fffc00?font=roboto&text=Snapchat",description:"Send a Snap, share a Story."},{height:400,width:600,id:19,platform:"Pinterest",imageUrl:"https://placehold.co/600x400/e7e2e1/e60023?font=roboto&text=Pinterest",description:"Discover new ideas to try and share."},{height:1e3,width:1500,id:20,platform:"Pinterest",imageUrl:"https://placehold.co/1500x1000/e7e2e1/e60023?font=roboto&text=Pinterest",description:"Discover new ideas to try and share."},{height:400,width:600,id:22,platform:"YouTube",imageUrl:"https://placehold.co/600x400/e7e2e1/ff0000?font=roboto&text=YouTube",description:"Watch, like, and share videos."},{height:720,width:1280,id:23,platform:"YouTube",imageUrl:"https://placehold.co/1280x720/e7e2e1/ff0000?font=roboto&text=YouTube",description:"Watch, like, and share videos."},{height:400,width:600,id:25,platform:"Reddit",imageUrl:"https://placehold.co/600x400/e7e2e1/ff4500?font=roboto&text=Reddit",description:"Dive into communities and discussions."},{height:800,width:1200,id:26,platform:"Reddit",imageUrl:"https://placehold.co/1200x800/e7e2e1/ff4500?font=roboto&text=Reddit",description:"Dive into communities and discussions."},{height:400,width:600,id:28,platform:"WhatsApp",imageUrl:"https://placehold.co/600x400/e7e2e1/25d366?font=roboto&text=WhatsApp",description:"Send messages and make calls anywhere."},{height:800,width:1200,id:29,platform:"WhatsApp",imageUrl:"https://placehold.co/1200x800/e7e2e1/25d366?font=roboto&text=WhatsApp",description:"Send messages and make calls anywhere."}];o.useEffect(()=>{d(m)},[]);function f(u){const{name:l,value:r}=u.target;i(a=>({...a,[l]:r}))}function N(){s.height===0||s.width===0?alert("Please add both dimensions."):window.location.href=`/dashboard/create/design?height=${s.height}&width=${s.width}`}return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[e.jsx("div",{className:"navbarzone w-fit",children:e.jsx(U,{pagename:"Create template"})}),e.jsx("div",{className:"contentzone pt-3 px-2 ml-0 sm:ml-64 w-full flex flex-col gap-3 justify-center items-center",children:e.jsx("div",{id:"createCustomCanvas",className:"w-full py-3 shadow-lg bg-background2 rounded-lg px-2 flex gap-2 flex-row justify-center items-center overflow-x-visible",children:e.jsxs("div",{className:"w-full gap-2 flex flex-col sm:flex-row",children:[e.jsxs("div",{className:"cutomeCanvasCreator flex flex-col gap-2",children:[e.jsxs("div",{className:"inputZone flex flex-col sm:flex-row gap-2",children:[e.jsxs("div",{className:"flex flex-col text-center",children:[e.jsx("label",{htmlFor:"height",children:"height"}),e.jsx("input",{className:"px-2 rounded-lg border-[2px] border-accent forced:border-primary",onChange:f,type:"number",name:"height",id:"height",value:s.height,placeholder:"Height"})]}),e.jsxs("div",{className:"flex flex-col text-center",children:[e.jsx("label",{htmlFor:"width",children:"width"}),e.jsx("input",{className:"px-2 rounded-lg border-[2px] border-accent forced:border-primary",onChange:f,type:"number",name:"width",id:"width",value:s.width,placeholder:"Width"})]})]}),e.jsx("button",{className:"px-4 bg-accent text-white hover:bg-primary rounded-lg",onClick:N,children:e.jsx("p",{children:"Create"})})]}),e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsx(A,{to:"/dashboard/create/post",children:e.jsx("button",{className:"p-5 text-white bg-accent rounded-lg",children:e.jsx("p",{children:"make a post"})})})})]})})})]})}function _e(){const{postId:s}=se(),[i,p]=o.useState(!1),[d,m]=o.useState(""),[f,N]=o.useState([]),[u,l]=o.useState([]),[r,a]=o.useState({all:!0,gmb:!0,insta:!0,fbook:!0}),[g,k]=o.useState({date:""}),S=R();o.useEffect(()=>{p(!0),fetch(`/api/posts/${s}`,{method:"GET",credentials:"include"}).then(h=>h.json()).then(h=>{if(h.post){const{text:n,platform:v,uploadDate:w,images:T,videos:F}=h.post;m(n),a(v),k({date:w});const L=[...(T||[]).map(E=>({preview:E,type:"image"})),...(F||[]).map(E=>({preview:E,type:"video"}))];l(L),p(!1)}else alert("faild to load post details")}).catch(h=>{console.error("Error fetching post details:",h)})},[s]);const b=h=>{const n=h.target.value,v=h.target.checked;a(w=>{const T={...w};return n==="fbook"?T.fbook=v:n==="insta"?T.insta=v:n==="gmb"&&(T.gmb=v),T.all=T.fbook||T.insta||T.gmb,T})},P=()=>{S(-1)},t=h=>{m(h.target.value)},c=h=>{k({...g,date:h.target.value})},j=h=>{N(n=>n.filter((v,w)=>w!==h)),l(n=>n.filter((v,w)=>w!==h))},y=h=>{const n=Array.from(h.target.files),v=n.map(w=>({file:w,preview:URL.createObjectURL(w),type:w.type.startsWith("video")?"video":"image"}));N(w=>[...w,...n]),l(w=>[...w,...v])},C=()=>{p(!0);const h=new FormData;h.append("text",d),h.append("platform",JSON.stringify(r)),h.append("uploadDate",g.date),u.forEach(({preview:n,type:v})=>{v==="image"?h.append("images",n):h.append("videos",n)}),f.forEach(n=>{h.append(n.type.startsWith("video")?"videos":"images",n)}),fetch(`/api/posts/${s}`,{method:"PUT",body:h,credentials:"include"}).then(n=>n.json()).then(n=>{n.message==="Post updated successfully"?(S("/dashboard/posts"),p(!1)):(p(!1),alert("post update error, kindly check your internet connection"))}).catch(n=>{console.error("Error updating post:",n)})};function x(){p(!0),fetch(`/api/posts/${s}`,{method:"DELETE",credentials:"include"}).then(h=>h.json()).then(h=>{h.message==="Post deleted successfully"?S("/dashboard/posts"):(p(!1),alert("post update error, kindly check your internet connection"))})}return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[e.jsx("div",{className:"navzone w-fit",children:e.jsx(U,{pagename:"Edit Post"})}),i?e.jsx(I,{}):e.jsxs("div",{className:"contentzone pt-3 px-2 ml-0 sm:ml-64 w-full flex flex-col gap-3 justify-center items-center",children:[e.jsx("div",{className:"mininav w-full",children:e.jsx("button",{onClick:P,className:"px-2 py-2 w-full bg-accent rounded-lg",children:"Back"})}),e.jsxs("div",{className:"editorpage p-2 bg-background2 rounded-lg w-full flex flex-col gap-2 justify-center items-center",children:[e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsx("div",{className:"w-full flex flex-col gap-1 justify-center items-center",children:e.jsx("h1",{children:"select platform"})}),e.jsxs("div",{className:"w-full flex flex-row gap-3 justify-center items-center",children:[e.jsxs("div",{className:"fbook flex flex-col justify-center items-center",children:[e.jsx("label",{htmlFor:"facebook",children:e.jsx($,{})}),e.jsx("input",{onChange:b,type:"checkbox",name:"platform",value:"fbook",id:"facebook",checked:r.fbook})]}),e.jsxs("div",{className:"insta flex flex-col justify-center items-center",children:[e.jsx("label",{htmlFor:"instagram",children:e.jsx(O,{})}),e.jsx("input",{onChange:b,type:"checkbox",name:"platform",value:"insta",id:"instagram",checked:r.insta})]}),e.jsxs("div",{className:"googl flex flex-col justify-center items-center",children:[e.jsx("label",{htmlFor:"google",children:e.jsx("img",{className:"w-6 h-6",src:"/icons/xcomb.svg",alt:""})}),e.jsx("input",{onChange:b,type:"checkbox",name:"platform",value:"gmb",id:"google",checked:r.gmb})]})]})]}),e.jsx("div",{className:"postText w-full flex flex-col gap-2",children:e.jsx("textarea",{className:"w-full rounded-lg focus:border-accent p-2",name:"postText",id:"postText",placeholder:"Write your post...",rows:"7",value:d,onChange:t})}),e.jsx("div",{className:"postImages columns-2 gap-2 sm:gap-4",children:u.map(({preview:h,type:n},v)=>e.jsxs("div",{className:"relative w-full mb-2 sm:mb-4",children:[n==="image"?e.jsx("img",{className:"w-full object-cover rounded-lg",src:h,alt:"Image Preview"}):e.jsx("video",{className:"w-full object-cover rounded-lg",src:h,controls:!0}),e.jsx("button",{className:"absolute top-1 right-1 text-red-500 font-bold",onClick:()=>j(v),children:"✕"})]},v))}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"rounded-md w-full border border-accent p-4 shadow-md",children:e.jsxs("label",{htmlFor:"upload",className:"flex flex-col items-center gap-2 cursor-pointer",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 fill-white stroke-accent",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-center text-accent",children:"Upload files"}),e.jsx("input",{type:"file",name:"files",id:"upload",accept:"image/*,video/*",className:"hidden",onChange:y,multiple:!0})]})})}),e.jsx("div",{className:"w-full py-10 flex flex-col md:flex-row gap-2 justify-center items-center",children:e.jsxs("div",{className:"w-full flex flex-col gap-1 justify-center items-center",children:[e.jsx("label",{children:"schedule date"}),e.jsx("input",{type:"datetime-local",value:g.date,onChange:c,className:"bg-background p-2 rounded-lg w-full"})]})}),e.jsxs("div",{className:"button-space w-full flex flex-col sm:flex-row gap-10 justify-center items-center",children:[e.jsx("button",{onClick:C,className:"bg-accent text-white px-6 py-2 rounded-md w-full sm:w-1/3 mt-4",children:"Save Post"}),e.jsx("button",{onClick:x,className:"animate-pulse w-fit text-accent text-center bg-red-500 p-1 px-3 rounded-lg",children:"delete"})]})]})]})]})}function Se(){const{postId:s}=se(),i=R();o.useState(!1);const p=()=>{i(-1)};return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[e.jsx("div",{className:"navbarzone w-fit",children:e.jsx(U,{pagename:"post analysis"})}),e.jsxs("div",{className:"contentzone flex flex-col gap-3 pt-3 px-2 ml-0 sm:ml-64 w-full",children:[e.jsx("div",{className:"mininav w-full",children:e.jsx("button",{onClick:p,className:"px-2 py-2 w-full bg-accent rounded-lg",children:"Back"})}),e.jsx("div",{className:"w-full",children:e.jsxs("p",{children:["analysis for this post ",s]})})]})]})}const oe=ee.memo(({data:s})=>{console.log("Rendering AllPosts");const[i,p]=o.useState(""),[d,m]=o.useState("all"),f=o.useMemo(()=>{if(!s||typeof s!="object"||!Array.isArray(s[d]))return console.log("FilteredPosts: Data invalid or filter category missing"),[];const l=i.trim().toLowerCase();if(!l)return console.log(`FilteredPosts: No search query, returning all ${s[d].length} posts for filter '${d}'`),s[d];const r=s[d].filter(a=>{var g;return(g=a.text)==null?void 0:g.toLowerCase().includes(l)});return console.log(`FilteredPosts: Filtered by query '${l}', found ${r.length} posts for filter '${d}'`),r},[s,d,i]);if(!s||typeof s!="object")return console.log("AllPosts: Rendering Loading state"),e.jsx("div",{className:"text-muted-foreground py-6",children:"Loading..."});const N=l=>{p(l.target.value)},u=l=>{m(l.target.value)};return e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-center items-center px-2 rounded-lg",children:[e.jsx("div",{className:"w-full flex py-4 justify-center",children:e.jsx("input",{type:"text",placeholder:"Search posts...",className:"border px-4 py-2 rounded-md w-full sm:w-auto",value:i,onChange:N})}),e.jsx("div",{className:"select-option py-2 w-full flex justify-center",children:e.jsxs("select",{className:"border px-4 py-2 rounded-md w-full sm:w-auto",value:d,onChange:u,children:[s.all&&e.jsx("option",{value:"all",children:"All"}),s.scheduled&&e.jsx("option",{value:"scheduled",children:"Scheduled"}),s.published&&e.jsx("option",{value:"published",children:"Published"}),s.failed&&e.jsx("option",{className:"text-red-500",value:"failed",children:"Failed"})]})})]}),e.jsx("div",{className:"w-full min-h-fit overflow-y-scroll gap-2 flex flex-col justify-center items-center max-h-[60vh]",children:f.length>0?f.map(l=>{var r;return e.jsx(B,{data:l},((r=l._id)==null?void 0:r.$oid)||l._id||`post-${Math.random()}`)}):e.jsx("div",{className:"text-muted-foreground py-6",children:"No posts found."})})]})});oe.displayName="AllPosts";function Pe({data:s}){const[i,p]=o.useState(""),[d,m]=o.useState("all");console.log("facePosts data",s);const f=Array.isArray(s==null?void 0:s[d])?s[d]:[],N=o.useMemo(()=>f.filter(u=>{var l;return(l=u.text)==null?void 0:l.toLowerCase().includes(i.toLowerCase())}),[i,f]);return e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-center items-center px-2 rounded-lg",children:[e.jsx("div",{className:"w-full flex py-4 justify-center",children:e.jsx("input",{type:"text",placeholder:"Search posts...",className:"border px-4 py-2 rounded-md",value:i,onChange:u=>p(u.target.value)})}),e.jsx("div",{className:"select-option py-2 w-full flex justify-center",children:e.jsxs("select",{className:"border px-4 py-2 rounded-md",value:d,onChange:u=>m(u.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{className:"text-red-500",value:"failed",children:"Failed"})]})})]}),e.jsx("div",{className:"w-full overflow-y-scroll gap-2 flex flex-col justify-center items-center",children:N.length>0?N.map(u=>{var l;return e.jsx(B,{data:u},((l=u._id)==null?void 0:l.$oid)||u._id)}):e.jsx("div",{children:"No posts found."})})]})}function Fe({data:s}){const[i,p]=o.useState(""),[d,m]=o.useState("all");console.log("xPosts data",s);const f=Array.isArray(s==null?void 0:s[d])?s[d]:[],N=o.useMemo(()=>f.filter(u=>{var l;return(l=u.text)==null?void 0:l.toLowerCase().includes(i.toLowerCase())}),[i,f]);return e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-center items-center px-2 rounded-lg",children:[e.jsx("div",{className:"w-full flex py-4 justify-center",children:e.jsx("input",{type:"text",placeholder:"Search posts...",className:"border px-4 py-2 rounded-md",value:i,onChange:u=>p(u.target.value)})}),e.jsx("div",{className:"select-option py-2 w-full flex justify-center",children:e.jsxs("select",{className:"border px-4 py-2 rounded-md",value:d,onChange:u=>m(u.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{className:"text-red-500",value:"failed",children:"Failed"})]})})]}),e.jsx("div",{className:"w-full overflow-y-scroll gap-2 flex flex-col justify-center items-center",children:N.length>0?N.map(u=>{var l;return e.jsx(B,{data:u},((l=u._id)==null?void 0:l.$oid)||u._id)}):e.jsx("div",{children:"No posts found."})})]})}function Ae({data:s}){const[i,p]=o.useState(""),[d,m]=o.useState("all");console.log("instPosts data",s);const f=Array.isArray(s==null?void 0:s[d])?s[d]:[],N=o.useMemo(()=>f.filter(u=>{var l;return(l=u.text)==null?void 0:l.toLowerCase().includes(i.toLowerCase())}),[i,f]);return e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-center items-center px-2 rounded-lg",children:[e.jsx("div",{className:"w-full flex py-4 justify-center",children:e.jsx("input",{type:"text",placeholder:"Search posts...",className:"border px-4 py-2 rounded-md",value:i,onChange:u=>p(u.target.value)})}),e.jsx("div",{className:"select-option py-2 w-full flex justify-center",children:e.jsxs("select",{className:"border px-4 py-2 rounded-md",value:d,onChange:u=>m(u.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{className:"text-red-500",value:"failed",children:"Failed"})]})})]}),e.jsx("div",{className:"w-full overflow-y-scroll gap-2 flex flex-col justify-center items-center",children:N.length>0?N.map(u=>{var l;return e.jsx(B,{data:u},((l=u._id)==null?void 0:l.$oid)||u._id)}):e.jsx("div",{children:"No posts found."})})]})}function Te(){const[s,i]=o.useState(null),[p,d]=o.useState(null),[m,f]=o.useState(null),[N,u]=o.useState(null),[l,r]=o.useState("all");o.useEffect(()=>{(async()=>{try{const[k,S,b,P]=await Promise.all([fetch("/api/posts/all",{method:"GET",credentials:"include"}),fetch("/api/posts/scheduled",{method:"GET",credentials:"include"}),fetch("/api/posts/published",{method:"GET",credentials:"include"}),fetch("/api/posts/failed",{method:"GET",credentials:"include"})]),t=await k.json(),c=await S.json(),j=await b.json(),y=await P.json(),C=(x,h)=>Array.isArray(x)?x.filter(n=>n.platform[h]):[];i({all:(t==null?void 0:t.posts)||[],scheduled:c.posts||[],published:j.posts||[],failed:y.posts||[]}),d({all:C(t==null?void 0:t.posts,"fbook"),scheduled:C(c.posts,"fbook"),published:C(j.posts,"fbook"),failed:C(y.posts,"fbook")}),f({all:C(t==null?void 0:t.posts,"insta"),scheduled:C(c.posts,"insta"),published:C(j.posts,"insta"),failed:C(y.posts,"insta")}),u({all:C(t==null?void 0:t.posts,"xcom"),scheduled:C(c.posts,"xcom"),published:C(j.posts,"xcom"),failed:C(y.posts,"xcom")})}catch(k){console.error("Error fetching posts:",k),alert("An error occurred while fetching posts.")}})()},[]),console.log(l);const a=g=>`hover:bg-accent flex gap-2 flex-row justify-center items-center cursor-pointer text-center w-full ${l===g?"border-[2px] border-accent border-b-[2px] border-b-background2":"border-b-[2px] border-b-accent"}`;return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[e.jsx("div",{className:"navbarzone w-fit",children:e.jsx(U,{pagename:"post list"})}),e.jsx("div",{className:"contentzone flex flex-col gap-3 pt-3 px-2 ml-0 sm:ml-64 w-full",children:e.jsxs("div",{className:"postsellectors bg-background2 p-2 rounded-lg gap-3 flex flex-col justify-center items-center text-sm w-full",children:[e.jsxs("div",{className:"media-selecto flex flex-row w-full justify-evenly pt-5",children:[e.jsxs("div",{onClick:()=>r("all"),className:a("all"),children:[e.jsx(be,{})," ",e.jsx("span",{className:"hidden sm:block",children:"all"})]}),e.jsxs("div",{onClick:()=>r("fbook"),className:a("fbook"),children:[e.jsx($,{})," ",e.jsx("span",{className:"hidden sm:block",children:"facebook"})]}),e.jsxs("div",{onClick:()=>r("insta"),className:a("insta"),children:[e.jsx(O,{})," ",e.jsx("span",{className:"hidden sm:block",children:"instagram"})]}),e.jsxs("div",{onClick:()=>r("xcom"),className:a("xcom"),children:[e.jsx("img",{className:"w-6 h-6",src:"/icons/xcomb.svg",alt:"x.com icon"}),e.jsx("span",{className:"hidden sm:block",children:"x.com"})]})]}),e.jsxs("div",{className:"postzone bg-background2 w-full",children:[l==="all"&&s&&e.jsx(oe,{data:s}),l==="fbook"&&p&&e.jsx(Pe,{data:p}),l==="insta"&&m&&e.jsx(Ae,{data:m}),l==="xcom"&&N&&e.jsx(Fe,{data:N})]})]})})]})}function De(){const[s,i]=o.useState({userName:"",logo:null,logoPreview:null,companyTradeName:"",businessSector:"",addressVisible:"",country:"",province:"",locality:"",postalCode:"",webPage:"",webPageUrl:"",showContactInfo:"",contactInfo:"",photos:[],photosPreview:[],schedule:"",sales_channels:"",motto:"",motto_field:"",business_definition:[],business_definition_other:"",highlight:"",star_product:"",star_product_field:"",features:"",add_products:"no",add_products_field:"",add_features:"",objectives:"",exterior_photo:null,interior_photo:null,special_place_photo:null,staff_photo:null,area_of_influence:"",customer_type:[],age_range:[],valuable_content:[],valuable_content_other:"",communication_style:"",communication_style_other:""}),[p,d]=o.useState(!1),[m,f]=o.useState(!1),[N,u]=o.useState(!1),[l,r]=o.useState(null);o.useEffect(()=>{async function t(){var c,j,y;d(!0);try{const x=await(await fetch("/api/auth/user/details",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();i({...s,...x.user.companyDetails,logoPreview:((c=x.user.companyDetails)==null?void 0:c.logo)||null,photos:((j=x.user.companyDetails)==null?void 0:j.photos)||[],photosPreview:(y=x.user.companyDetails)==null?void 0:y.photos}),x.user.selectedXcom&&r(!0),x.user.selectedFacebookBusinessPage&&f(!0),x.user.selectedInstagramBusinessPage&&u(!0),d(!1)}catch(C){console.error("Error fetching user info:",C)}}t()},[]);const a=t=>{const{name:c,value:j,files:y,checked:C}=t.target;if(c==="photos")i(x=>({...x,photos:y?Array.from(y):[]}));else if(c==="logo"&&y&&y[0]){const x=y[0];i(h=>({...h,logo:x,logoPreview:URL.createObjectURL(x)}))}else i(c==="business_definition"?x=>{const h=x.business_definition||[];return C?h.length<3?{...x,business_definition:[...h,j]}:x:{...x,business_definition:h.filter(n=>n!==j)}}:c==="customer_type"?x=>{const h=C?[...x.customer_type,j]:x.customer_type.filter(n=>n!==j);return{...x,customer_type:h}}:c==="age_range"?x=>{const h=C?[...x.age_range,j]:x.age_range.filter(n=>n!==j);return{...x,age_range:h}}:x=>({...x,[c]:j}))},g=async t=>{t.preventDefault(),d(!0);const c=new FormData;Object.entries(s).forEach(([j,y])=>{j==="photos"&&Array.isArray(y)?y.forEach(C=>c.append(j,C)):j==="logo"&&y?c.append(j,y):Array.isArray(y)?y.forEach(C=>c.append(j,C)):c.append(j,y)});try{const j=await fetch("/api/auth/user/details",{method:"PUT",body:c,credentials:"include"});j.ok?(d(!1),alert("Profile updated successfully!")):(console.error("Update failed:",j.statusText),alert("Update failed. Please try again."))}catch(j){console.error("Error:",j),alert("An error occurred. Please try again.")}finally{d(!1)}};function k(t,c){const C=window.screenX+(window.outerWidth-500)/2,x=window.screenY+(window.outerHeight-600)/2,h=window.open(t,"AuthPopup",`width=500,height=600,top=${x},left=${C}`),n=setInterval(()=>{h.closed&&(clearInterval(n),c())},500)}function S(){k("/api/facebook/auth/facebook",()=>{f(!0)})}function b(){k("/api/instagram/auth/instagram",()=>{u(!0)})}function P(){k("/api/x/auth/xcom",()=>{u(!0),window.location.href="/dashboard/profile"})}return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[e.jsx("div",{className:"side-bar",children:e.jsx(U,{pagename:"Profile"})}),p?e.jsx(I,{}):e.jsxs("div",{className:"w-full ml-0 sm:ml-64 py-3 px-2 flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"flex gap-2 flex-col sm:flex-row justify-between w-full px-4 py-2",children:[e.jsxs("button",{className:"bg-black w-full h-[100px] flex flex-col justify-center items-center text-white p-4 rounded-lg shadow-lg",onClick:P,children:[l?"x.com connected":"connect x.com",e.jsx("img",{className:"w-6 h-6",src:"/icons/xcom.svg",alt:""})]}),e.jsxs("button",{onClick:S,className:"bg-blue-500 w-full h-[100px] flex flex-col justify-center items-center text-white p-4 rounded-lg shadow-lg",children:[m?"Facebook Connected":"Connect Facebook",e.jsx($,{})]}),e.jsxs("button",{onClick:b,className:"bg-red-400 w-full h-[100px] flex flex-col justify-center items-center text-white p-4 rounded-lg shadow-lg",children:[N?"Instagram Connected":"Connect Instagram",e.jsx(O,{})]})]}),e.jsxs("form",{onSubmit:g,className:"form flex flex-col gap-2 justify-center w-full",children:[e.jsxs("div",{className:"form-section-1 bg-background2 flex flex-col justify-center items-center gap-3 rounded-lg p-2",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Block 1: YOUR BUSINESS"}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"userName",placeholder:"Your user name",value:s.userName,onChange:a}),e.jsx("label",{htmlFor:"logo",className:"text-left w-full text-sm text-gray-500",children:"logo"}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"file",name:"logo",accept:".png,.jpg,.jpeg",onChange:a}),s.logoPreview&&e.jsx("img",{src:s.logoPreview,alt:"Logo Preview",className:"mt-2 w-24 h-24 object-cover rounded-lg"}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"companyTradeName",placeholder:"Company trade name",value:s.companyTradeName,onChange:a}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"businessSector",value:s.businessSector,onChange:a,children:[e.jsx("option",{value:"",children:"Main business sector"}),["Craft","Children's items","Consulting","Café","Carnage","Hunt","Beauty center","Veterinary center","Decoration","E-commerce multiproduct","Sports and fitness","Household appliances","Events","Hardware","Physiotherapy","Training","Photograph","Nurseries","Real estate","Gardening","Jeweler's","Legal and juridical","Cleaning","Marketing","Fashion and accessories","Music","Leisure and free time","Orthopedics","Bakery","Hair salon","Data protection and GDPR","Psychology","Restaurant","Health-well-being","Dental health","Insurance","IT Services","Car workshop","Motorcycle workshop","Pet store","Tourism","Trips","Spirituality/Esotericism","Chiropodist","Other"].map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"addressVisible",value:s.addressVisible,onChange:a,children:[e.jsx("option",{value:"",children:"Should the physical address of the business appear?"}),e.jsx("option",{value:"NO",children:"No"}),e.jsx("option",{value:"YES",children:"Yes"})]}),s.addressVisible==="YES"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"country",placeholder:"Country (e.g., Spain)",value:s.country,onChange:a}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"province",value:s.province,onChange:a,children:[e.jsx("option",{value:"",children:"Province"}),["A Coruña","Alava","Alicante","Almeria","Asturias","Avila","Badajoz","Barcelona","Burgos","Caceres","Cadiz","Cantabria","Castellon","City Royal","Cordova","Basin","Girona","Grenade","Guadalajara","Guipuzcoa","Huelva","Huesca","Balearic Islands","Jaen","Corunna","Rioja","Las Palmas","Lion","Lleida","Lugo","Madrid","Malaga","Murcia","Navarre","Ourense","Palencia","Pontevedra","Salamanca","Santa Cruz de Tenerife","Segovia","Seville","Soria","Tarragona","Teruel","Toledo","Valencia","Valladolid","Biscay (Bizkaia)","Zamora","Saragossa"].map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"locality",placeholder:"Locality",value:s.locality,onChange:a}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"postalCode",placeholder:"Postal Code",value:s.postalCode,onChange:a})]}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"webPage",value:s.webPage,onChange:a,children:[e.jsx("option",{value:"",children:"Do you have a web page?"}),e.jsx("option",{value:"NO",children:"No"}),e.jsx("option",{value:"YES",children:"Yes"})]}),s.webPage==="YES"&&e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"webPageUrl",placeholder:"Website URL",value:s.webPageUrl,onChange:a}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"showContactInfo",value:s.showContactInfo,onChange:a,children:[e.jsx("option",{value:"",children:"Show phone or email?"}),e.jsx("option",{value:"NO",children:"No"}),e.jsx("option",{value:"YES",children:"Yes"})]}),s.showContactInfo==="YES"&&e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"contactInfo",placeholder:"Contact Information (e.g., +34...)",value:s.contactInfo,onChange:a})]}),e.jsxs("div",{className:"form-section-2 bg-background2 flex flex-col justify-center items-center gap-3 rounded-lg p-2",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Block 2: Tell us about your products or services"}),e.jsx("label",{htmlFor:"schedule",className:"block font-medium",children:"What days are you open?"}),e.jsxs("select",{id:"schedule",name:"schedule",className:"p-2 rounded-lg w-full",value:s.schedule,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"week",children:"Week: Monday-Tuesday-Wednesday-Thursday-Friday-Saturday-Sunday"}),e.jsx("option",{value:"week_no_weekends",children:"Week without weekends: Monday-Tuesday-Wednesday-Thursday-Friday"}),e.jsx("option",{value:"all_weekend",children:"All weekend (Saturdays and Sundays)"}),e.jsx("option",{value:"never_close",children:"We never close"})]}),e.jsx("label",{htmlFor:"sales_channels",className:"block mt-4 font-medium",children:"Sales or customer service channels"}),e.jsxs("select",{id:"sales_channels",name:"sales_channels",className:"p-2 rounded-lg w-full",value:s.sales_channels,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"ecommerce_24hrs",children:"I am an ecommerce (online sales) store open 24 hours a day"}),e.jsx("option",{value:"ecommerce_service_hours",children:"I am an Ecommerce (online sales) with customer service hours"}),e.jsx("option",{value:"ecommerce_physical",children:"In addition to an Ecommerce, I have a place with physical sales"}),e.jsx("option",{value:"physical_location",children:"I only have one physical location"})]}),e.jsx("label",{htmlFor:"motto",className:"block mt-4 font-medium",children:"Motto"}),e.jsxs("select",{id:"motto",name:"motto",className:"p-2 rounded-lg w-full",value:s.motto,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"have",children:"Have"}),e.jsx("option",{value:"dont_have",children:"Don't have"})]}),e.jsx("textarea",{id:"motto_field",name:"motto_field",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Add your motto here (if applicable)",value:s.motto_field,onChange:a}),e.jsx("label",{htmlFor:"business_definition",className:"block mt-4 font-medium",children:"How would you define your business?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[["Attention","Creativity","Strategy","Experience","Quality","Closeness","Knowledge","Artisanal","Innovation","Passion","Personalization","Planning","Price","Professionalism","Service","Speed","Technology","Traditional","Vision"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"business_definition",value:t,checked:s.business_definition.includes(t),onChange:a})," ",t]},t)),e.jsx("textarea",{id:"business_definition_other",name:"business_definition_other",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Other (please specify)",value:s.business_definition_other,onChange:a})]}),e.jsx("label",{htmlFor:"highlight",className:"block mt-4 font-medium",children:"What would you like to highlight about your business?"}),e.jsx("textarea",{id:"highlight",name:"highlight",className:"p-2 rounded-lg w-full",placeholder:"Free text field",value:s.highlight,onChange:a}),e.jsx("label",{htmlFor:"star_product",className:"block mt-4 font-medium",children:"Star service or product"}),e.jsxs("select",{id:"star_product",name:"star_product",className:"p-2 rounded-lg w-full",value:s.star_product,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"product",children:"Product"}),e.jsx("option",{value:"service",children:"Service"}),e.jsx("option",{value:"both",children:"Both product or service options"})]}),e.jsx("input",{type:"text",id:"star_product_field",name:"star_product_field",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Free field, maximum 45 characters",value:s.star_product_field,onChange:a}),e.jsx("label",{htmlFor:"features",className:"block mt-4 font-medium",children:"Features and/or Benefits"}),e.jsx("textarea",{id:"features",name:"features",className:"p-2 rounded-lg w-full",placeholder:"Free field without emoticons",value:s.features,onChange:a}),e.jsx("label",{htmlFor:"add_products",className:"block mt-4 font-medium",children:"Add more products or services (up to 5)"}),e.jsxs("select",{id:"add_products",name:"add_products",className:"p-2 rounded-lg w-full",value:s.add_products,onChange:a,children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]}),e.jsx("input",{type:"text",id:"add_products_field",name:"add_products_field",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Free field, maximum 45 characters",value:s.add_products_field,onChange:a}),e.jsx("textarea",{id:"add_features",name:"add_features",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Features and/or Benefits (Free field without emoticons)",value:s.add_features,onChange:a}),e.jsx("label",{htmlFor:"objectives",className:"block mt-4 font-medium",children:"What do you want to achieve with your publications?"}),e.jsxs("select",{id:"objectives",name:"objectives",className:"p-2 rounded-lg w-full",value:s.objectives,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"appointment_required",children:"Appointment required"}),e.jsx("option",{value:"book_by_phone",children:"Book by phone"}),e.jsx("option",{value:"physical_visit",children:"Physical visit to the premises"}),e.jsx("option",{value:"only_web",children:"Only on the web"}),e.jsx("option",{value:"visit_web_or_premises",children:"Visiting the premises or via the web"})]}),e.jsx("label",{className:"block mt-4 font-medium",children:"Add photos"}),e.jsx("input",{type:"file",name:"photos",accept:"image/png, image/jpg, image/jpeg",multiple:!0,className:"p-2 rounded-lg w-full mt-2",onChange:a}),e.jsx("div",{className:"flex flex-wrap gap-4 mt-2",children:s.photosPreview.map((t,c)=>e.jsx("img",{src:t,alt:`Photo ${c+1} Preview`,className:"w-24 h-24 object-cover rounded-lg"},c))})]}),e.jsxs("div",{className:"form-section-3 bg-background2 flex flex-col justify-center items-center gap-3 rounded-lg p-2",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Block 3: Area of Influence and Audience"}),e.jsx("label",{htmlFor:"area_of_influence",className:"block font-medium mt-4",children:"Where the company provides services"}),e.jsxs("select",{id:"area_of_influence",name:"area_of_influence",className:"p-2 rounded-lg w-full",onChange:a,value:s.area_of_influence,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"local",children:"At local level"}),e.jsx("option",{value:"provincial",children:"At the provincial level"}),e.jsx("option",{value:"autonomous",children:"At the autonomous community level"}),e.jsx("option",{value:"national",children:"At the national level"}),e.jsx("option",{value:"international",children:"At international level"})]}),e.jsx("label",{htmlFor:"customer_type",className:"block font-medium mt-4",children:"Customer type (select 1 or 2 options)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["men","women","both","companies","all"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"customer_type",value:t,className:"mr-2",onChange:a,checked:s.customer_type.includes(t)}),t.charAt(0).toUpperCase()+t.slice(1)]},t))}),e.jsx("label",{htmlFor:"age_range",className:"block font-medium mt-4",children:"Age range (multiple selection possible)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["under_24","25_35","36_45","46_55","56_65","over_65","companies"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"age_range",value:t,className:"mr-2",onChange:a,checked:s.age_range.includes(t)})," ",t.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())]},t))}),e.jsx("label",{htmlFor:"valuable_content",className:"block font-medium mt-4",children:"Valuable content for your target audience (Topics)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["sporting_events","cultural_activities","geeky_content","social_issues"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"valuable_content",value:t,className:"mr-2",onChange:a,checked:s.valuable_content.includes(t)})," ",t.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())]},t))}),e.jsx("div",{className:"other-content-style w-full",children:e.jsx("textarea",{id:"valuable_content_other",name:"valuable_content_other",className:"mt-2 p-2 rounded-lg w-full",rows:5,placeholder:"Other topics (please specify)",onChange:a,value:s.valuable_content_other})}),e.jsx("label",{htmlFor:"communication_style",className:"block font-medium mt-4",children:"Desired communication style"}),e.jsxs("select",{id:"communication_style",name:"communication_style",className:"p-2 rounded-lg w-full",onChange:a,value:s.communication_style,children:[e.jsx("option",{value:"",children:"Choose an option"}),["corporate","formal","joke","nearby","emotional","fun","friendly","inspirational","professional","narrative","persuasive","informative","technical","motivational"].map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))]}),e.jsx("textarea",{id:"communication_style_other",name:"communication_style_other",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Other styles (please specify)",onChange:a,value:s.communication_style_other})]}),e.jsx("button",{type:"submit",className:"bg-accent text-white rounded-lg w-full",children:p?"Updating Details.......":"Update Details"})]})]})]})}function Ee(){const[s,i]=o.useState(null),[p,d]=o.useState([]),[m,f]=o.useState("basic"),[N,u]=o.useState(!0),[l,r]=o.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvc:""});o.useEffect(()=>{const b=async()=>{try{const t=await fetch("/api/subscription/details",{credentials:"include",method:"GET"});if(!t.ok)throw new Error("Failed to fetch user details");const c=await t.json();i(c),console.log(c)}catch(t){console.error("Error fetching user details:",t)}},P=async()=>{try{const t=await fetch("/api/subscription/subscription-history",{method:"GET",credentials:"include"});if(!t.ok)throw new Error("Failed to fetch payment history");const c=await t.json();c.paymentHistory&&(d(c.paymentHistory),u(!1))}catch(t){console.error("Error fetching payment history:",t)}};b(),P()},[]);const a=()=>{const b=new ve;b.text("Subscription History",10,10),b.text("Plan: "+s.plan,10,20),b.text("Amount: "+s.amount,10,30),b.text("Status: "+s.status,10,40),b.save("subscription-history.pdf")},g=async()=>{try{(await fetch("/api/subscription/cancel-subscription",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:s.subscriptionId})})).ok?(alert("Subscription canceled successfully!"),i({...s,status:"Cancelled"})):alert("Failed to cancel subscription.")}catch(b){console.error("Error canceling subscription:",b)}},k=b=>{const{name:P,value:t}=b.target;r(c=>({...c,[P]:t}))},S=async b=>{b.preventDefault();try{u(!0);const P=await fetch("/api/subscription/create-subscription",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:m,cardDetails:l})}),t=await P.json();P.ok?(alert("Subscription successful!"),u(!1),i(t.subscriptionDetails)):(u(!1),console.error("Subscription failed:",t.error))}catch(P){u(!1),console.error("Error during subscription:",P)}};return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[e.jsx("div",{className:"navbarzone w-fit",children:e.jsx(U,{pagename:"Subscription"})}),N?e.jsx(I,{}):e.jsxs("div",{className:"contentzone mt-3 ml-0 sm:ml-64 w-full",children:[e.jsxs("div",{className:"subscription-info p-4 bg-background2 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Subscription"}),e.jsxs("div",{className:"subscription-details mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Plan:"})," ",(s==null?void 0:s.plan)||"undefines"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",(s==null?void 0:s.status)||"loading.."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",(s==null?void 0:s.amount)||"loading.."]}),(s==null?void 0:s.trialEnd)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Trial End:"})," ",new Date((s==null?void 0:s.trialEnd)*1e3).toLocaleDateString()]})]}),e.jsxs("div",{className:"actions flex gap-4 mt-4",children:[e.jsx("button",{className:"bg-primary text-white py-2 px-4 rounded-md",onClick:a,children:"Download History as PDF"}),(s==null?void 0:s.status)==="Active"&&e.jsx("button",{className:"bg-red-500 text-white py-2 px-4 rounded-md",onClick:g,children:"Cancel Subscription"})]}),e.jsxs("div",{className:"plan-upgrade mt-4",children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Upgrade Plan:"}),e.jsxs("select",{className:"px-4 py-2 border rounded",value:s==null?void 0:s.plan,onChange:b=>f(b.target.value),children:[e.jsx("option",{value:"basic",children:"Basic"}),e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"premium",children:"Premium"})]}),e.jsxs("form",{onSubmit:S,className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Payment Details"}),e.jsx("input",{type:"text",name:"cardNumber",placeholder:"Card Number",value:l.cardNumber,onChange:k,className:"w-full mt-2 p-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"expiryMonth",placeholder:"Expiry Month (MM)",value:l.expiryMonth,onChange:k,className:"w-full mt-2 p-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"expiryYear",placeholder:"Expiry Year (YY)",value:l.expiryYear,onChange:k,className:"w-full mt-2 p-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"cvc",placeholder:"CVC",value:l.cvc,onChange:k,className:"w-full mt-2 p-2 border rounded",required:!0}),e.jsx("button",{type:"submit",className:"bg-primary text-white py-2 px-4 rounded-md mt-4",children:"Upgrade Subscription"})]})]})]}),e.jsxs("div",{className:"w-full mt-4 bg-background2 rounded-lg flex flex-col justify-center items-center p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment History"}),e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-background rounded-lg",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Date"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Amount"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Currency"})]})}),e.jsx("tbody",{children:p.length>0?p.map((b,P)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"px-4 py-2",children:new Date(b==null?void 0:b.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-2",children:`$${((b==null?void 0:b.amount)/100).toFixed(2)}`}),e.jsx("td",{className:"px-4 py-2 capitalize",children:b==null?void 0:b.status}),e.jsx("td",{className:"px-4 py-2",children:b==null?void 0:b.currency.toUpperCase()})]},P)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-2 text-center text-gray-500",children:"No payment history available"})})})]})]})]})]})}function X(){const[s,i]=o.useState(""),[p,d]=o.useState(!1),[m,f]=o.useState(""),[N,u]=o.useState([]),[l,r]=o.useState([]),[a,g]=o.useState({all:!0,xcom:!1,insta:!1,fbook:!1}),k=R(),S=v=>{const w=v.target.value;g(T=>{const F={...T};return w==="fbook"?(F.fbook=!0,F.insta=!1,F.xcom=!1,F.both=!1):w==="insta"?(F.fbook=!1,F.xcom=!1,F.insta=!0,F.both=!1):w==="xcom"?(F.xcom=!0,F.fbook=!1,F.insta=!1,F.both=!1):(F.fbook=!1,F.insta=!1,F.xcom=!1,F.both=!0),F})},[b,P]=o.useState({date:""}),t=R(),c=()=>{t(-1)},j=v=>{i(v.target.value)},y=v=>{f(v.target.value)},C=v=>{const w=Array.from(v.target.files);u([...N,...w]);const T=w.map(F=>URL.createObjectURL(F));r([...l,...T])},x=v=>{const w=v.target.value;P({date:w})};o.useEffect(()=>{console.log({date:b.date})},[b.date]);const h=v=>{const w=N.filter((F,L)=>L!==v),T=l.filter((F,L)=>L!==v);u(w),r(T)},n=()=>{d(!0);const v=new FormData;v.append("text",s),v.append("platform",JSON.stringify(a)),v.append("uploadDate",b.date),N.forEach(w=>{v.append("images",w)}),fetch("/api/posts/create",{method:"POST",body:v,credentials:"include"}).then(w=>w.json()).then(w=>{console.log(w),d(!1),w.message==="Post created successfully"&&k("/dashboard/posts")}).catch(w=>{console.error("Error creating post:",w)})};return e.jsxs("div",{className:"w-full flex flex-row justify-center items-center",children:[e.jsx("div",{className:"navzone w-fit",children:e.jsx(U,{pagename:"Create Post"})}),p?e.jsx(I,{}):e.jsxs("div",{className:"contentzone pt-3 px-2 ml-0 sm:ml-64 w-full flex flex-col gap-3 justify-center items-center",children:[e.jsx("div",{className:"mininav w-full",children:e.jsx("button",{onClick:c,className:"px-2 py-2 w-full bg-accent rounded-lg",children:"Back"})}),e.jsxs("div",{className:"editorpage p-2 bg-background2 rounded-lg w-full flex flex-col gap-2 justify-center items-center",children:[e.jsxs("div",{className:"w-full flex flex-col gap-2 sm:flex-row",children:[e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsxs("div",{className:"releasedate max-w-[350px] flex flex-col justify-center items-center",children:[e.jsx("label",{htmlFor:"date",children:"Upload date"}),e.jsx("input",{className:"bg-background p-2 rounded-lg w-full text-text",type:"datetime-local",name:"date",id:"date",required:!0,value:b.date,onChange:x})]})}),e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsxs("div",{className:"selectionZone flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"socialSelect",className:"text-xl",children:"Select platform"}),e.jsxs("select",{id:"socialSelect",className:"rounded-lg p-2 text-center text-accent",onChange:S,children:[e.jsx("option",{className:"text-text",value:"all",children:"All"}),e.jsx("option",{className:"text-text",value:"xcom",children:"xcom"}),e.jsx("option",{className:"text-text",value:"fbook",children:"Facebook"}),e.jsx("option",{className:"text-text",value:"insta",children:"Instagram"})]})]})})]}),e.jsxs("div",{className:"postText w-full flex flex-col gap-2",children:[e.jsx("input",{onChange:y,className:"rounded-lg p-2 w-full",type:"text",value:m,placeholder:"Prompt AI assistant ..."}),e.jsx("textarea",{className:"w-full rounded-lg focus:border-accent p-2",name:"postText",id:"postText",placeholder:"Write your post...",rows:"10",value:s,onChange:j})]}),e.jsx("div",{className:"postImages columns-2 gap-2 sm:gap-4",children:l.length>0&&l.map((v,w)=>e.jsxs("div",{className:"relative w-full mb-2 sm:mb-4",children:[e.jsx("img",{className:"w-full object-cover rounded-lg",src:v,alt:"Image Preview"}),e.jsx("button",{className:"absolute top-1 right-1 text-red-500 font-bold",onClick:()=>h(w),children:"D"})]},w))}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"rounded-md w-full border border-accent p-4 shadow-md",children:[e.jsxs("label",{htmlFor:"upload",className:"flex flex-col items-center gap-2 cursor-pointer",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 fill-white stroke-accent",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-text font-medium",children:"Upload files"})]}),e.jsx("input",{id:"upload",type:"file",className:"hidden",onChange:C,multiple:!0})]})}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg",onClick:n,children:"Submit Post"})]})]})]})}function Ie(){return e.jsx(te,{children:e.jsxs("div",{className:"w-full flex flex-row justify-center items-start",children:[e.jsx("div",{className:"navbarzone w-fit",children:e.jsx(U,{pagename:"dashboard"})}),e.jsxs("div",{className:"w-full",children:[e.jsx(D,{path:"/dashboard",element:e.jsx(Ce,{})}),e.jsx(D,{path:"/dashboard/profile",element:e.jsx(De,{})}),e.jsx(D,{path:"/dashboard/subscription",element:e.jsx(Ee,{})}),e.jsx(D,{path:"/dashboard/create",element:e.jsx(X,{})}),e.jsx(D,{path:"/dashboard/create/post",element:e.jsx(X,{})}),e.jsx(D,{path:"/dashboard/posts",element:e.jsx(Te,{})}),e.jsx(D,{path:"/dashboard/analize/:postId",element:e.jsx(Se,{})}),e.jsx(D,{path:"/dashboard/posts/edit/:postId",element:e.jsx(_e,{})}),e.jsx(D,{path:"/dashboard/templates",element:e.jsx(ke,{})}),e.jsx(D,{path:"*",element:e.jsx(ne,{})})]})]})})}const Ue=()=>{const[s,i]=o.useState(!1),[p,d]=o.useState(!1),[m,f]=o.useState(!1),[N,u]=o.useState(null),[l,r]=o.useState({userName:"",language:"",logo:null,logoPreview:null,companyTradeName:"",businessSector:"",addressVisible:"",country:"",province:"",locality:"",postalCode:"",webPage:"",webPageUrl:"",showContactInfo:"",contactInfo:"",photos:[],photosPreview:[],schedule:"",sales_channels:"",motto:"",motto_field:"",business_definition:[],business_definition_other:"",highlight:"",star_product:"",star_product_field:"",features:"",add_products:"no",add_products_field:"",add_features:"",objectives:"",exterior_photo:null,interior_photo:null,special_place_photo:null,staff_photo:null,area_of_influence:"",customer_type:[],age_range:[],valuable_content:[],valuable_content_other:"",communication_style:"",communication_style_other:""}),a=t=>{const{name:c,files:j,value:y,checked:C}=t.target;if(c==="logo"&&j&&j[0]){const x=j[0];r(h=>({...h,logo:x,logoPreview:URL.createObjectURL(x)}))}else if(c==="photos"&&j){const x=Array.from(j),h=x.map(n=>URL.createObjectURL(n));r(n=>({...n,photos:x,photosPreview:h}))}else r(c==="business_definition"?x=>{const h=x.business_definition;if(C){if(h.length<3)return{...x,business_definition:[...h,y]}}else return{...x,business_definition:h.filter(n=>n!==y)};return x}:c==="customer_type"?x=>{const h=C?[...x.customer_type,y]:x.customer_type.filter(n=>n!==y);return{...x,customer_type:h}}:c==="age_range"?x=>{const h=C?[...x.age_range,y]:x.age_range.filter(n=>n!==y);return{...x,age_range:h}}:x=>({...x,[c]:y}))},g=async t=>{t.preventDefault(),i(!0);try{const c=new FormData;Object.entries(l).forEach(([y,C])=>{y==="photos"&&Array.isArray(C)?C.forEach(x=>c.append(y,x)):y==="logo"&&C instanceof File?c.append(y,C):Array.isArray(C)||typeof C=="object"?c.append(y,JSON.stringify(C)):c.append(y,C)});const j=await fetch("/api/auth/user/details",{method:"PUT",body:c,credentials:"include"});j.ok?(console.log("Details uploaded successfully"),window.location.href="/dashboard"):(console.error("Upload failed:",j.statusText),alert("Upload failed. Please try again."))}catch(c){console.error("Error:",c),alert("An error occurred. Please try again.")}finally{i(!1)}};function k(t,c){const C=window.screenX+(window.outerWidth-500)/2,x=window.screenY+(window.outerHeight-600)/2,h=window.open(t,"AuthPopup",`width=500,height=600,top=${x},left=${C}`),n=setInterval(()=>{h.closed&&(clearInterval(n),c())},500)}function S(){k("/api/facebook/auth/facebook",()=>{d(!0)})}function b(){k("/api/instagram/auth/instagram",()=>{f(!0)})}function P(){k("/api/x/auth/xcom",()=>{u(!0),window.location.href="/dashboard/profile"})}return s?e.jsxs("div",{className:"fixed inset-0 flex justify-center items-center",children:[e.jsx("div",{className:"w-full absolute inset-0 animate-pulse font-bold text-3xl text-center flex justify-center items-center",children:e.jsx("div",{className:"w-fit",children:e.jsx("p",{children:"Generating posts ....."})})}),e.jsx(I,{})]}):e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsx("div",{className:"useless w-full h-10 bg-background2"}),e.jsxs("div",{className:"flex gap-2 flex-col sm:flex-row justify-between w-full px-4 py-2",children:[e.jsxs("button",{className:"bg-black w-full h-[100px] flex flex-col justify-center items-center text-white p-4 rounded-lg shadow-lg",onClick:P,children:[N?"x.com connected":"connect x.com",e.jsx("img",{className:"w-6 h-6",src:"/icons/xcom.svg",alt:""})]}),e.jsxs("button",{onClick:S,className:"bg-blue-500 w-full h-[100px] flex flex-col justify-center items-center text-white p-4 rounded-lg shadow-lg",children:[p?"Facebook Connected":"Connect Facebook",e.jsx($,{})]}),e.jsxs("button",{onClick:b,className:"bg-red-400 w-full h-[100px] flex flex-col justify-center items-center text-white p-4 rounded-lg shadow-lg",children:[m?"Instagram Connected":"Connect Instagram",e.jsx(O,{})]})]}),e.jsx("div",{className:"form-space rounded-lg my-3",children:e.jsxs("form",{onSubmit:g,className:"w-full px-2 flex flex-col gap-10 py-10",children:[e.jsxs("div",{className:"form-section-1 bg-background2 flex flex-col justify-center items-center gap-3 rounded-lg p-2",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Block 1: YOUR BUSINESS"}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"userName",placeholder:"Your user name",value:l.userName,onChange:a}),e.jsx("label",{htmlFor:"logo",className:"text-left w-full text-sm text-gray-500",children:"logo"}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"file",name:"logo",accept:".png,.jpg,.jpeg",onChange:a}),l.logoPreview&&e.jsx("img",{src:l.logoPreview,alt:"Logo Preview",className:"mt-2 w-24 h-24 object-cover rounded-lg"}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"companyTradeName",placeholder:"Company trade name",value:l.companyTradeName,onChange:a}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"businessSector",value:l.businessSector,onChange:a,children:[e.jsx("option",{value:"",children:"Main business sector"}),["Craft","Children's items","Consulting","Café","Carnage","Hunt","Beauty center","Veterinary center","Decoration","E-commerce multiproduct","Sports and fitness","Household appliances","Events","Hardware","Physiotherapy","Training","Photograph","Nurseries","Real estate","Gardening","Jeweler's","Legal and juridical","Cleaning","Marketing","Fashion and accessories","Music","Leisure and free time","Orthopedics","Bakery","Hair salon","Data protection and GDPR","Psychology","Restaurant","Health-well-being","Dental health","Insurance","IT Services","Car workshop","Motorcycle workshop","Pet store","Tourism","Trips","Spirituality/Esotericism","Chiropodist","Other"].map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"language",value:l.language,onChange:a,children:[e.jsx("option",{value:"",children:"Main business language"}),["English","Spanish","French","German","Chinese","Japanese","Korean","Italian","Portuguese","Russian","Arabic","Hindi","Bengali","Punjabi","Javanese","Vietnamese","Telugu","Marathi","Tamil","Urdu","Turkish","Persian","Swahili","Dutch","Greek","Hebrew","Thai","Malay","Indonesian","Filipino","Swedish","Norwegian","Danish","Finnish","Polish","Czech","Hungarian","Romanian","Bulgarian","Ukrainian","Serbian","Croatian","Slovak","Slovenian","Lithuanian","Latvian","Estonian","Icelandic","Maltese"].map((t,c)=>e.jsx("option",{value:t,children:t},c))]}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"addressVisible",value:l.addressVisible,onChange:a,children:[e.jsx("option",{value:"",children:"Should the physical address of the business appear?"}),e.jsx("option",{value:"NO",children:"No"}),e.jsx("option",{value:"YES",children:"Yes"})]}),l.addressVisible==="YES"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"country",placeholder:"Country (e.g., Spain)",value:l.country,onChange:a}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"province",value:l.province,onChange:a,children:[e.jsx("option",{value:"",children:"Province"}),["A Coruña","Alava","Alicante","Almeria","Asturias","Avila","Badajoz","Barcelona","Burgos","Caceres","Cadiz","Cantabria","Castellon","City Royal","Cordova","Basin","Girona","Grenade","Guadalajara","Guipuzcoa","Huelva","Huesca","Balearic Islands","Jaen","Corunna","Rioja","Las Palmas","Lion","Lleida","Lugo","Madrid","Malaga","Murcia","Navarre","Ourense","Palencia","Pontevedra","Salamanca","Santa Cruz de Tenerife","Segovia","Seville","Soria","Tarragona","Teruel","Toledo","Valencia","Valladolid","Biscay (Bizkaia)","Zamora","Saragossa"].map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"locality",placeholder:"Locality",value:l.locality,onChange:a}),e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"postalCode",placeholder:"Postal Code",value:l.postalCode,onChange:a})]}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"webPage",value:l.webPage,onChange:a,children:[e.jsx("option",{value:"",children:"Do you have a web page?"}),e.jsx("option",{value:"NO",children:"No"}),e.jsx("option",{value:"YES",children:"Yes"})]}),l.webPage==="YES"&&e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"webPageUrl",placeholder:"Website URL",value:l.webPageUrl,onChange:a}),e.jsxs("select",{className:"p-2 rounded-lg w-full",name:"showContactInfo",value:l.showContactInfo,onChange:a,children:[e.jsx("option",{value:"",children:"Show phone or email?"}),e.jsx("option",{value:"NO",children:"No"}),e.jsx("option",{value:"YES",children:"Yes"})]}),l.showContactInfo==="YES"&&e.jsx("input",{className:"p-2 rounded-lg w-full",type:"text",name:"contactInfo",placeholder:"Contact Information (e.g., +34...)",value:l.contactInfo,onChange:a})]}),e.jsxs("div",{className:"form-section-2 bg-background2 flex flex-col justify-center items-center gap-3 rounded-lg p-2",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Block 2: Tell us about your products or services"}),e.jsx("label",{htmlFor:"schedule",className:"block font-medium",children:"What days are you open?"}),e.jsxs("select",{id:"schedule",name:"schedule",className:"p-2 rounded-lg w-full",value:l.schedule,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"week",children:"Week: Monday-Tuesday-Wednesday-Thursday-Friday-Saturday-Sunday"}),e.jsx("option",{value:"week_no_weekends",children:"Week without weekends: Monday-Tuesday-Wednesday-Thursday-Friday"}),e.jsx("option",{value:"all_weekend",children:"All weekend (Saturdays and Sundays)"}),e.jsx("option",{value:"never_close",children:"We never close"})]}),e.jsx("label",{htmlFor:"sales_channels",className:"block mt-4 font-medium",children:"Sales or customer service channels"}),e.jsxs("select",{id:"sales_channels",name:"sales_channels",className:"p-2 rounded-lg w-full",value:l.sales_channels,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"ecommerce_24hrs",children:"I am an ecommerce (online sales) store open 24 hours a day"}),e.jsx("option",{value:"ecommerce_service_hours",children:"I am an Ecommerce (online sales) with customer service hours"}),e.jsx("option",{value:"ecommerce_physical",children:"In addition to an Ecommerce, I have a place with physical sales"}),e.jsx("option",{value:"physical_location",children:"I only have one physical location"})]}),e.jsx("label",{htmlFor:"motto",className:"block mt-4 font-medium",children:"Motto"}),e.jsxs("select",{id:"motto",name:"motto",className:"p-2 rounded-lg w-full",value:l.motto,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"have",children:"Have"}),e.jsx("option",{value:"dont_have",children:"Don't have"})]}),e.jsx("textarea",{id:"motto_field",name:"motto_field",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Add your motto here (if applicable)",value:l.motto_field,onChange:a}),e.jsx("label",{htmlFor:"business_definition",className:"block mt-4 font-medium",children:"How would you define your business?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[["Attention","Creativity","Strategy","Experience","Quality","Closeness","Knowledge","Artisanal","Innovation","Passion","Personalization","Planning","Price","Professionalism","Service","Speed","Technology","Traditional","Vision"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"business_definition",value:t,checked:l.business_definition.includes(t),onChange:a})," ",t]},t)),e.jsx("textarea",{id:"business_definition_other",name:"business_definition_other",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Other (please specify)",value:l.business_definition_other,onChange:a})]}),e.jsx("label",{htmlFor:"highlight",className:"block mt-4 font-medium",children:"What would you like to highlight about your business?"}),e.jsx("textarea",{id:"highlight",name:"highlight",className:"p-2 rounded-lg w-full",placeholder:"Free text field",value:l.highlight,onChange:a}),e.jsx("label",{htmlFor:"star_product",className:"block mt-4 font-medium",children:"Star service or product"}),e.jsxs("select",{id:"star_product",name:"star_product",className:"p-2 rounded-lg w-full",value:l.star_product,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"product",children:"Product"}),e.jsx("option",{value:"service",children:"Service"}),e.jsx("option",{value:"both",children:"Both product or service options"})]}),e.jsx("input",{type:"text",id:"star_product_field",name:"star_product_field",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Free field, maximum 45 characters",value:l.star_product_field,onChange:a}),e.jsx("label",{htmlFor:"features",className:"block mt-4 font-medium",children:"Features and/or Benefits"}),e.jsx("textarea",{id:"features",name:"features",className:"p-2 rounded-lg w-full",placeholder:"Free field without emoticons",value:l.features,onChange:a}),e.jsx("label",{htmlFor:"add_products",className:"block mt-4 font-medium",children:"Add more products or services (up to 5)"}),e.jsxs("select",{id:"add_products",name:"add_products",className:"p-2 rounded-lg w-full",value:l.add_products,onChange:a,children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]}),e.jsx("input",{type:"text",id:"add_products_field",name:"add_products_field",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Free field, maximum 45 characters",value:l.add_products_field,onChange:a}),e.jsx("textarea",{id:"add_features",name:"add_features",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Features and/or Benefits (Free field without emoticons)",value:l.add_features,onChange:a}),e.jsx("label",{htmlFor:"objectives",className:"block mt-4 font-medium",children:"What do you want to achieve with your publications?"}),e.jsxs("select",{id:"objectives",name:"objectives",className:"p-2 rounded-lg w-full",value:l.objectives,onChange:a,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"appointment_required",children:"Appointment required"}),e.jsx("option",{value:"book_by_phone",children:"Book by phone"}),e.jsx("option",{value:"physical_visit",children:"Physical visit to the premises"}),e.jsx("option",{value:"only_web",children:"Only on the web"}),e.jsx("option",{value:"visit_web_or_premises",children:"Visiting the premises or via the web"})]}),e.jsx("label",{className:"block mt-4 font-medium",children:"Add photos"}),e.jsx("input",{type:"file",name:"photos",accept:"image/png, image/jpg, image/jpeg",multiple:!0,className:"p-2 rounded-lg w-full mt-2",onChange:a}),e.jsx("div",{className:"flex flex-wrap gap-4 mt-2",children:l.photosPreview.map((t,c)=>e.jsx("img",{src:t,alt:`Photo ${c+1} Preview`,className:"w-24 h-24 object-cover rounded-lg"},c))})]}),e.jsxs("div",{className:"form-section-3 bg-background2 flex flex-col justify-center items-center gap-3 rounded-lg p-2",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Block 3: Area of Influence and Audience"}),e.jsx("label",{htmlFor:"area_of_influence",className:"block font-medium mt-4",children:"Where the company provides services"}),e.jsxs("select",{id:"area_of_influence",name:"area_of_influence",className:"p-2 rounded-lg w-full",onChange:a,value:l.area_of_influence,children:[e.jsx("option",{value:"",children:"Choose an option"}),e.jsx("option",{value:"local",children:"At local level"}),e.jsx("option",{value:"provincial",children:"At the provincial level"}),e.jsx("option",{value:"autonomous",children:"At the autonomous community level"}),e.jsx("option",{value:"national",children:"At the national level"}),e.jsx("option",{value:"international",children:"At international level"})]}),e.jsx("label",{htmlFor:"customer_type",className:"block font-medium mt-4",children:"Customer type (select 1 or 2 options)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["men","women","both","companies","all"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"customer_type",value:t,className:"mr-2",onChange:a,checked:l.customer_type.includes(t)}),t.charAt(0).toUpperCase()+t.slice(1)]},t))}),e.jsx("label",{htmlFor:"age_range",className:"block font-medium mt-4",children:"Age range (multiple selection possible)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["under_24","25_35","36_45","46_55","56_65","over_65","companies"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"age_range",value:t,className:"mr-2",onChange:a,checked:l.age_range.includes(t)})," ",t.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())]},t))}),e.jsx("label",{htmlFor:"valuable_content",className:"block font-medium mt-4",children:"Valuable content for your target audience (Topics)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["sporting_events","cultural_activities","geeky_content","social_issues"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"valuable_content",value:t,className:"mr-2",onChange:a,checked:l.valuable_content.includes(t)})," ",t.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())]},t))}),e.jsx("div",{className:"other-content-style w-full",children:e.jsx("textarea",{id:"valuable_content_other",name:"valuable_content_other",className:"mt-2 p-2 rounded-lg w-full",rows:5,placeholder:"Other topics (please specify)",onChange:a,value:l.valuable_content_other})}),e.jsx("label",{htmlFor:"communication_style",className:"block font-medium mt-4",children:"Desired communication style"}),e.jsxs("select",{id:"communication_style",name:"communication_style",className:"p-2 rounded-lg w-full",onChange:a,value:l.communication_style,children:[e.jsx("option",{value:"",children:"Choose an option"}),["corporate","formal","joke","nearby","emotional","fun","friendly","inspirational","professional","narrative","persuasive","informative","technical","motivational"].map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))]}),e.jsx("textarea",{id:"communication_style_other",name:"communication_style_other",className:"mt-2 p-2 rounded-lg w-full",placeholder:"Other styles (please specify)",onChange:a,value:l.communication_style_other})]}),e.jsx("button",{className:"p-2 px-4 bg-accent hover:bg-primary rounded-lg my-4",type:"submit",disabled:s,children:s?"Submitting...":"Submit"})]})}),e.jsx("div",{className:"useless w-full h-10 bg-background2 py-10"})]})};function W(){const[s,i]=o.useState(!1);function p(){i(!s)}return o.useEffect(()=>{}),e.jsxs("header",{className:"w-full z-10 flex justify-between items-center px-6 py-4 bg-black shadow-md",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:e.jsx(A,{to:"/",children:e.jsx("img",{className:"max-w-[300px]",src:"/images/nav.png",alt:"logo of the website"})})}),e.jsx("div",{className:"menutbn md:hidden text-white",children:e.jsx("button",{onClick:p,children:s?e.jsx(q,{}):e.jsx(J,{})})}),e.jsxs("div",{id:"desktop-nave",className:"desk hidden md:flex w-3/5 flex-row justify-between items-center",children:[e.jsxs("nav",{className:"md:flex space-x-6",children:[e.jsx(A,{to:"/#",className:"text-white font-bold hover:underline",children:"Home"}),e.jsx(A,{to:"/about",className:"text-white font-bold hover:underline",children:"About"}),e.jsx(A,{to:"/subscription",className:"text-white font-bold hover:underline",children:"Pricing"}),e.jsx(A,{to:"/contact",className:"text-white font-bold hover:underline",children:"Contact"})]}),e.jsxs("div",{className:"w-fit flex gap-2 justify-center items-center",children:[e.jsx(A,{to:"/login",className:"text-white font-bold hover:underline",children:"Login"}),e.jsx(A,{to:"/subscription",className:"text-white bg-accent px-6 p-2 rounded-full animate-pulse font-bold hover:underline",children:"free trial"})]})]}),s&&e.jsx("div",{id:"mobile-nav",className:"mobile-nav h-screen py-2 px-2 bg-accent md:hidden absolute top-0 right-0 w-full sm:w-3/4 shadow-lg",children:e.jsxs("nav",{className:"flex flex-col gap-2 justify-center items-center",children:[e.jsxs("div",{className:"logohead py-6 flex flex-row justify-between items-center w-full px-2",children:[e.jsx(A,{to:"/",children:e.jsx("img",{className:"w-[200px]",src:"/images/nav.png",alt:"logo of business"})}),e.jsx("div",{className:"menutbn md:hidden text-white",children:e.jsx("button",{onClick:p,children:s?e.jsx(q,{}):e.jsx(J,{})})})]}),e.jsx(A,{to:"/#",className:"text-white py-3 border-b-[2px] w-full px-3 font-bold hover:underline",children:"Home"}),e.jsx(A,{to:"/about",className:"text-white font-bold py-3 border-b-[2px] w-full px-3 hover:underline",children:"About"}),e.jsx(A,{to:"/subscription",className:"text-white font-bold py-3 border-b-[2px] w-full px-3 hover:underline",children:"Pricing"}),e.jsx(A,{to:"/contact",className:"text-white font-bold py-3 border-b-[2px] w-full px-3 hover:underline",children:"Contact"}),e.jsxs("div",{className:"w-fit flex gap-2 justify-center items-center",children:[e.jsx(A,{to:"/login",className:"text-white font-bold hover:underline",children:"Login"}),e.jsx(A,{to:"/subscription",className:"text-black bg-background px-6 p-2 rounded-full animate-pulse font-bold hover:underline",children:"free trial"})]})]})})]})}const Le=()=>{const[s,i]=o.useState(!1),[p,d]=o.useState(""),m=f=>{f.preventDefault(),d(""),i(!0)};return e.jsxs("div",{className:"w-full gap-2 flex flex-col justify-center items-center",children:[e.jsxs("form",{action:"https://formsubmit.co/cuesitweb@hamham.uk",method:"POST",className:"flex flex-row gap-1 border-[2px] border-accent w-fit p-1 rounded-lg",onSubmit:m,children:[e.jsx("input",{type:"hidden",name:"_captcha",value:"false"}),e.jsx("input",{placeholder:"subscribe",value:p,onChange:f=>{d(f.target.value)},className:"border-transparent bg-transparent p-2 focus:border-none",type:"email",required:!0}),e.jsx("button",{type:"submit",className:"bg-accent p-2 rounded-r-lg hover:bg-background2",children:"sign up"})]}),s&&e.jsx("div",{className:"submitsucsess text-sm border-[2px] border-green-500 rounded-lg px-2",children:e.jsx("p",{children:"Thank you for your email have been submitted"})})]})};function H(){return e.jsxs("footer",{className:"w-full px-2 bg-cover text-white bg-no-repeat bg-[url('/images/footer.png')] flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"w-full py-36 max-w-[1500px] grid grid-cols-1 md:grid-cols-2 border-b-[2px] border-b-gray-300",children:[e.jsxs("div",{className:"logo-info flex flex-col gap-3 py-3",children:[e.jsx("img",{className:"max-w-[300px]",src:"/images/nav.png",alt:""}),e.jsx("div",{className:"content-zone max-w-[500px]",children:e.jsx("p",{children:"Plan, program and publish engaging publications effortlessly with our AI-driven platform."})})]}),e.jsxs("div",{className:"links-signup flex flex-col md:flex-row w-full justify-between items-center",children:[e.jsxs("div",{className:"links-zone",children:[e.jsx("div",{className:"link-head",children:e.jsx("p",{className:"font-bold text-2xl",children:"Pages"})}),e.jsxs("div",{className:"nav-link flex flex-col gap-2",children:[e.jsx(A,{to:"/about",className:"text-white hover:underline",children:"About"}),e.jsx(A,{to:"/subscription",className:"text-white hover:underline",children:"Pricing"}),e.jsx(A,{to:"/contact",className:"text-white hover:underline",children:"Contact"})]})]}),e.jsx("div",{className:"newslwtter w-full flex flex-col gap-2 justify-center items-center",children:e.jsx(Le,{})})]})]}),e.jsx("div",{className:"mainfeet py-10 text-center w-full px-2",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," All Rights Reserved by Socialinkia"]})})]})}function Y(){const[s,i]=o.useState(!1),[p,d]=o.useState({email:"",password:""}),m=R(),f=l=>{const{id:r,value:a}=l.target;d({...p,[r]:a})},N=async l=>{i(!0),l.preventDefault();try{(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)})).ok?(i(!1),m("/dashboard")):i(!1)}catch(r){i(!1),console.error("Error:",r),alert("An error occurred. Please try again.")}};o.useEffect(()=>{const l=r=>{r.data&&r.data.redirectUrl&&(window.location.href=r.data.redirectUrl)};return window.addEventListener("message",l),()=>{window.removeEventListener("message",l)}},[]);const u=()=>{window.open("/api/google/auth/google/login","_blank","width=500,height=600")};return s?e.jsx("div",{className:"fixed inset-0 flex justify-center items-center",children:e.jsx(I,{})}):e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsx("div",{className:"nav w-full",children:e.jsx(W,{})}),e.jsx("div",{className:"icon pt-[50px] w-fit min-w-[200px] h-fit",children:e.jsx("img",{src:"/icons/login.svg",alt:"login svg"})}),e.jsxs("div",{className:"w-full py-10 flex flex-col justify-center items-center",children:[e.jsx("div",{className:"title text-4xl font-bold",children:e.jsx("h1",{children:"Login"})}),e.jsxs("form",{onSubmit:N,className:"form space-y-4 p-4",children:[e.jsx("input",{className:"px-2 py-2 w-full rounded-lg border-2 border-accent focus:bg-secondary",type:"email",id:"email",autoComplete:"off",placeholder:"Email",value:p.email,onChange:f,required:!0}),e.jsx("input",{className:"px-2 py-2 w-full rounded-lg border-2 border-accent focus:bg-secondary",type:"password",id:"password",autoComplete:"off",placeholder:"Password",value:p.password,onChange:f,required:!0}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent text-white rounded-lg w-full hover:bg-secondary",children:s?"login in......":"Login"})]}),e.jsx("div",{className:"social",children:e.jsx("button",{onClick:u,className:"rounded-lg px-3 py-2 bg-red-500 text-white hover:bg-red-800",children:"Login with Google"})}),e.jsx("div",{className:"dont-have-account hover:underline hover:text-primary",children:e.jsx(A,{to:"/subscription/signup",children:e.jsx("p",{children:"Dont have an account? Sign up"})})})]}),e.jsx("div",{className:"footer w-full",children:e.jsx(H,{})})]})}function Me(){const s=R(),i=()=>{const m=new URLSearchParams({plan:"basic"});s(`/subscription/signup?${m.toString()}`)},p=()=>{const m=new URLSearchParams({plan:"standard"});s(`/subscription/signup?${m.toString()}`)},d=()=>{const m=new URLSearchParams({plan:"premium"});s(`/subscription/signup?${m.toString()}`)};return e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"w-full h-[70vh] flex flex-col justify-center items-center bg-[url('/images/hero-bg-2.png')] bg-cover bg-center bg-no-repeat text-white",children:[e.jsx("h1",{className:"w-full px-2 text-center text-3xl font-bold md:text-7xl",children:"pick a plan that works best for you"}),e.jsx("p",{className:"px-2",children:"no credit card required"})]}),e.jsxs("div",{className:"w-full px-2 py-10 max-w-[1000px] md:gap-4 gap-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[e.jsxs("div",{className:"w-full shadow-lg rounded-lg bg-background2 flex flex-col gap-4 p-3",children:[e.jsx("p",{className:"font-bold text-2xl",children:"BASIC"}),e.jsx("br",{}),e.jsx("p",{children:"1 member"}),e.jsx("br",{}),e.jsxs("p",{children:[e.jsx("span",{className:"text-6xl font-bold",children:"$9,99"})," / month"]}),e.jsx("br",{}),e.jsx("p",{children:"Ideal for individuals and small businesses just getting started."}),e.jsxs("ul",{children:[e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Facebook Posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Publications: 7 per month"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," AI generated content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," User uploaded content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Creating and designing posts manually"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," User uploaded content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Creation and design of posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Auto-publish"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Editing and rescheduling posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Image post format"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Storing metrics"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Annual price: €100 per year"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Monthly price: €15 per month"]})]}),e.jsx("div",{className:"w-full flex justify-center items-end h-full",children:e.jsx("button",{onClick:i,className:"rounded-full font-bold p-4 border-[2px] border-black hover:bg-accent transition-all duration-1000 ease-in-out",children:"Choose Plan"})})]}),e.jsxs("div",{className:"w-full shadow-lg rounded-lg bg-background2 flex flex-col gap-4 p-3",children:[e.jsx("p",{className:"font-bold text-2xl",children:"ESSENCIAL"}),e.jsx("br",{}),e.jsx("p",{children:"Up to 20 members"}),e.jsx("br",{}),e.jsxs("p",{children:[e.jsx("span",{className:"text-6xl font-bold",children:"$20"})," / month"]}),e.jsx("br",{}),e.jsx("p",{children:"This is an excellent option for a small businesses who are starting out."}),e.jsxs("ul",{children:[e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Facebook Posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Instagram Posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Publications: 20 per month"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," AI generated content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," User uploaded content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Creating and designing posts manually"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," User uploaded content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Creation and design of posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Auto-publish"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Editing and rescheduling posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Image and carousel post format"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Storing metrics"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," PRICE: €200 per year"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Monthly price: €20 per month"]})]}),e.jsx("div",{className:"w-full flex justify-center items-end h-full",children:e.jsx("button",{onClick:p,className:"rounded-full font-bold p-4 border-[2px] border-black hover:bg-accent transition-all duration-1000 ease-in-out",children:"Choose Plan"})})]}),e.jsxs("div",{className:"w-full shadow-lg rounded-lg bg-black text-white flex flex-col gap-4 p-3",children:[e.jsx("p",{className:"font-bold text-2xl",children:"PREMIUM"}),e.jsx("br",{}),e.jsx("p",{children:"Up to 50 members"}),e.jsx("br",{}),e.jsxs("p",{children:[e.jsx("span",{className:"text-6xl font-bold",children:"$40"})," / month"]}),e.jsx("br",{}),e.jsx("p",{children:"This plan is suitable for e-commerce stores as well as professional blogs."}),e.jsxs("ul",{children:[e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Posts on Google My Business"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Facebook Posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Instagram Posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Maximum publications: 30 per month"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," AI generated content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," User uploaded content"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Creating and designing posts manually"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Auto-publish"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Editing and rescheduling posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Image and carousel post format"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Video post format – these would be text posts"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Storing metrics"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," PRICE: €350 per year"]}),e.jsxs("li",{className:"font-bold text-sm flex flex-row items-center gap-2",children:[e.jsx(_,{})," Monthly price: €40 per month"]})]}),e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsx("button",{onClick:d,className:"rounded-full hover:bg-background font-bold p-4 border-[2px] border-black bg-accent transition-all duration-1000 ease-in-out",children:"Choose Plan"})})]})]})]})}function Re(){return e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsx("div",{className:"header-section w-full flex flex-col justify-center items-center",children:e.jsx(W,{})}),e.jsx(Me,{}),e.jsx("div",{className:"footer-secton w-full flex flex-col justify-center items-center",children:e.jsx(H,{})})]})}function Be(){const s=le(),p=new URLSearchParams(s.search).get("plan"),[d,m]=o.useState(!1),[f,N]=o.useState({email:"",password:"",subscription:`${p}`}),u=R(),l=g=>{const{id:k,value:S}=g.target;N({...f,[k]:S})},r=async g=>{m(!0),g.preventDefault();try{const k=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f),credentials:"include"});if(k.ok)m(!1),u("/subscription/signup/details");else{const S=await k.json();S.error==="Email already exists."?(m(!1),u("/login")):S.message==="User registered successfully!"?(m(!1),u("/subscription/signup/details")):m(!1)}}catch(k){m(!1),console.error("Error:",k)}};o.useEffect(()=>{console.log({eventmanager:"loaded"}),window.addEventListener("message",g=>{if(g.origin!=="http://localhost:4000"){console.warn("Message received from untrusted origin:",g.origin);return}if(g.data&&g.data.redirectUrl){const k=g.data.redirectUrl;console.log("Redirect URL received:",k),window.location.href=k}})},[]);const a=()=>{const g=`/api/google/auth/google/signup?plan=${p}`;window.open(g,"_blank","width=500,height=600")};return d?e.jsx("div",{className:"fixed inset-0 flex justify-center items-center",children:e.jsx(I,{})}):e.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[e.jsx("div",{className:"nav w-full",children:e.jsx(W,{})}),e.jsx("div",{className:"icon pt-[50px] w-fit min-w-[200px] h-fit",children:e.jsx("img",{src:"/icons/signup.svg",alt:"signup svg"})}),e.jsxs("div",{className:"w-full py-10 flex flex-col justify-center items-center",children:[e.jsx("div",{className:"title text-4xl font-bold",children:e.jsx("h1",{children:"Signup"})}),e.jsxs("form",{onSubmit:r,className:"form space-y-4 p-4",children:[e.jsx("input",{className:"px-2 py-2 w-full rounded-lg border-2 border-accent focus:bg-secondary",type:"email",id:"email",autoComplete:"off",placeholder:"Email",value:f.email,onChange:l,required:!0}),e.jsx("input",{className:"px-2 py-2 w-full rounded-lg border-2 border-accent focus:bg-secondary",type:"password",id:"password",autoComplete:"off",placeholder:"Password",value:f.password,onChange:l,required:!0}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent text-white rounded-lg w-full hover:bg-secondary",children:d?"signing up.....":" Sign Up"})]}),e.jsx("div",{className:"social",children:e.jsx("button",{onClick:a,className:"rounded-lg px-3 py-2 bg-red-500 text-white hover:bg-red-800",children:"Sign up with Google"})}),e.jsx("div",{className:"dont-have-account hover:underline",children:e.jsx(A,{to:"/login",children:e.jsx("p",{children:"Already have an account? Sign in"})})})]}),e.jsx("div",{className:"foot w-full",children:e.jsx(H,{})})]})}function $e(){return e.jsxs(te,{children:[e.jsx(D,{path:"/login",element:e.jsx(Y,{})}),e.jsx(D,{path:"/",element:e.jsx(Y,{})}),e.jsx(D,{index:!0,element:e.jsx(Y,{})}),e.jsx(D,{path:"/subscription/signup",element:e.jsx(Be,{})}),e.jsx(D,{path:"/subscription/signup/details",element:e.jsx(ae,{Component:Ue})}),e.jsx(D,{path:"/subscription",element:e.jsx(Re,{})}),e.jsx(D,{path:"*",element:e.jsx(ne,{})})]})}function Oe(){const s=le();return e.jsx("div",{className:"w-full bg-background text-text text-md sm:text-xl overflow-hidden flex flex-col justify-center items-center",children:s.pathname.startsWith("/dashboard")?e.jsx(ae,{content:e.jsx(Ie,{})}):e.jsx($e,{})})}we(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(ye,{children:e.jsx(Oe,{})})}));
